package jsp_servlet._eot._jsp;

import java.io.*;
import java.util.*;
import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import javax.servlet.jsp.tagext.*;
import eCommon.XSSRequestWrapper;
import java.util.HashMap;
import java.util.Hashtable;
import java.util.Iterator;
import java.util.Map;

public final class __opercollectobject extends  weblogic.servlet.jsp.JspBase  implements weblogic.servlet.jsp.StaleIndicator {

    private static void _releaseTags(javax.servlet.jsp.PageContext pageContext, javax.servlet.jsp.tagext.JspTag t) {
        while (t != null) {
            weblogic.servlet.jsp.DependencyInjectionHelper.preDestroy(pageContext, t);
            if(t instanceof javax.servlet.jsp.tagext.Tag) {
                javax.servlet.jsp.tagext.Tag tmp = (javax.servlet.jsp.tagext.Tag)t;
                t = ((javax.servlet.jsp.tagext.Tag) t).getParent();
                try {
                    tmp.release();
                } catch(java.lang.Exception ignore) {}
            }
            else {
                t = ((javax.servlet.jsp.tagext.SimpleTag)t).getParent();
            }
        }
    }

    public boolean _isStale(){
        boolean _stale = _staticIsStale((weblogic.servlet.jsp.StaleChecker) getServletConfig().getServletContext());
        return _stale;
    }

    public static boolean _staticIsStale(weblogic.servlet.jsp.StaleChecker sci) {
        if (sci.isResourceStale("/eot/jsp/OperCollectObject.jsp", 1709120272000L ,"10.3.6.0","Asia/Calcutta")) return true;
        if (sci.isResourceStale("/eOT/jsp/StringUtil.jsp", 1724302624000L ,"10.3.6.0","Asia/Calcutta")) return true;
        return false;
    }

    private static boolean _WL_ENCODED_BYTES_OK = true;
    private static final java.lang.String _WL_ORIGINAL_ENCODING = "UTF-8".intern();

    private static byte[] _getBytes(java.lang.String block){
        try {
            return block.getBytes(_WL_ORIGINAL_ENCODING);
        } catch (java.io.UnsupportedEncodingException u){
            _WL_ENCODED_BYTES_OK = false;
        }
        return null;
    }

    private final static java.lang.String  _wl_block0 ="<!DOCTYPE html>\n";
    private final static byte[]  _wl_block0Bytes = _getBytes( _wl_block0 );

    private final static java.lang.String  _wl_block1 ="\n";
    private final static byte[]  _wl_block1Bytes = _getBytes( _wl_block1 );

    private final static java.lang.String  _wl_block2_0 ="\n\n<html>\n<head>\n\t<script type=\'text/javascript\' src=\'../../eOT/js/OTCommon.js\'></script>\n\t<script type=\'text/javascript\' src=\'../../eOT/js/RecordSurgeon.js\'></script>\n\t<script type=\'text/javascript\' src=\'../../eOT/js/CommonOperDtlsHdr.js\'></script>\n\t<script language=\'javascript\' src=\'../../eCommon/js/ValidateControl.js\' ></script>\n\t\n\n\n<script language=\'javascript\'>\n\nfunction convertDate(date,format,from,to){\n\tvar xhr =  getXHR();\n\tvar url = \"../../eCommon/jsp/DateUtils.jsp?methodName=convertDate&format=\"+format+\"&date=\"+date+\"&fromLocale=\"+from+\"&toLocale=\"+to;\n    xhr.open(\"POST\", url, false);\n\txhr.setRequestHeader(\"Content-Type\",\"text/plain\")\n   \txhr.send(\"\");\n\t\n\tvar xmlText =  trimString(xhr.responseText)\n\treturn(xmlText);\n}\n\nfunction getXHR(){\n\tvar request = false;\n\ttry {\n\t\trequest = new XMLHttpRequest();\n\t}catch (trymicrosoft) {\n\t\ttry {\n\t\t\trequest = new ActiveXObject(\"Msxml2.XMLHTTP\");\n\t\t}catch (othermicrosoft) {\n\t\t\ttry {\n\t\t\t\trequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t\t} catch (failed) {\n\t\t\t\trequest = false;\n\t\t\t}\n\t\t}\n    }\n\tif (!request){\n\t\talert(\"System Error initializing XMLHttpRequest!\");\n\t\treturn;\n\t}else return request;\n}\nvar ICD_PCS_ROWS=new Array();\nvar ICD_PCS_LEN=0;\nvar rows = new Array();\nvar rowLength=0;\nvar line_no=0;\nvar serial_no=0;\n\nvar personnelrows = new Array();\nvar tempPersonnelRows = new Array();//Added for CHL-CRF-0020.1 [IN:043132]\nvar personnelrowLength=0;\nvar diagnosis_rows = new Array();\nvar diagnosis_len = 0;\n//for displaying the rows only one time from db(initially)\nvar db_flag=\"ON\";\nvar primary_flag=\"ON\";\nvar diagnosis_text=\"\";\nvar wound_rows = new Array();\nvar wound_len = 0; // added on 13/02/2009\nvar notes_rows = new Array();\nvar DIAG_MODIFIED_FLAG=\"ON\";\nvar visit_pers_rows=new Array();\nvar visit_pers_len=0;\nvar time_rows = new Array();\nvar time_len = 0;\n//Added by Suma wrt Surgical Accessories changes\nvar instrument_rows = new Array();\nvar instrument_len=0;\nvar equipment_rows = new Array();\nvar equipment_len = 0;\nvar packs_rows=new Array();\nvar packs_len = 0;\nvar implants_rows = new Array();\nvar implants_len = 0;\nvar cnt=0;//for patient History display\nvar splty_code=\"\";\n\nvar Bill_Sub_Services_Rows=new Array();\nvar Bill_Sub_Services_len=0;\nvar AUTO_LEN =0;\nvar TIME_AND_DETAILS_ENTERED=\"N\";\nvar VISIT_PERSONEL_ENTERED=\"N\";\nvar WOUND_DETAILS_ENTERED=\"N\";\nvar mandatory_proc=new Array();\n</script>\n<script language=\'javascript\'>\n function createXMLForPersonnel(){\n  var rows=parent.ObjectCollect.personnelrows;\n  var table_name=\"OT_POST_OPER_PERSONNEL\";\n  var len = rows.length;\n  var xmlString =\"\";\n  for(var i=0;i<len;i++){\n\t if(rows[i]!=null &&  rows[i].db_mode!=\'L\'){\n\t\txmlString+=\"<PER_DTL\"+i+\" \";\n\t\txmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"speciality_code=\\\"\"+rows[i].speciality_code+\"\\\"\"+\" \";\n\t\txmlString+=\"role_id=\\\"\"+rows[i].role_id+\"\\\"\"+\" \";\n\t\txmlString+=\"role_type=\\\"\"+rows[i].role_type+\"\\\"\"+\" \";\n\t\txmlString+=\"practitioner_id=\\\"\"+rows[i].practitioner_id+\"\\\"\"+\" \";\n\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t\n\t }\n  }\n  return xmlString;\n}\n\n////Commented by rajesh for Uniue Constraing PK error TH_OT_SPR-3270\n/*function createXMLForVisitPersonnel(){\n  var rows=parent.ObjectCollect.visit_pers_rows;\n  var table_name=\"VISIT_PERSONNEL\";\n  var len = rows.length;\n  var xmlString =\"\";\n  for(var i=0;i<len;i++){\n\t if(rows[i]!=null &&  rows[i].db_mode!=\'L\' && rows[i].verify_flag==\"OFF\"){\n\t\txmlString+=\"<PER_DTL\"+i+\" \";\n\t\txmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"speciality_code=\\\"\"+rows[i].speciality_code+\"\\\"\"+\" \";\n\t\txmlString+=\"visit_desc=\\\"\"+rows[i].visit_desc+\"\\\"\"+\" \";\n\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t}\n  }\n  return xmlString;\n}*/\n/*\nfunction createXMLForVisitPersonnel(){\n  var rows=parent.ObjectCollect.visit_pers_rows;\n  var rows_time=parent.ObjectCollect.time_rows;\n  var rows_wound=parent.ObjectCollect.wound_rows;\n  var table_name=\"VISIT_PERSONNEL\";\n  var len = rows.length;\n  TIME_AND_DETAILS_ENTERED = (rows_time.length>0)?\"Y\":\"N\";\n  WOUND_DETAILS_ENTERED = (rows_wound.length>0)?\"Y\":\"N\";\n  if(TIME_AND_DETAILS_ENTERED==\"Y\") return \"\";\n  var xmlString =\"\";\n  for(var i=0;i<len;i++){\n\t if(rows[i]!=null && rows[i].db_mode!=\'L\'){\n\t\txmlString+=\"<PER_DTL\"+i+\" \";\n\t\txmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"speciality_code=\\\"\"+rows[i].speciality_code+\"\\\"\"+\" \";\n\t\txmlString+=\"visit_desc=\\\"\"+rows[i].visit_desc+\"\\\"\"+\" \";\n\t\tif(WOUND_DETAILS_ENTERED==\"Y\" && (rows[i].speciality_code == wound_rows[i].speciality_code) ){\n\t\t\txmlString+=\"wound_code=\\\"\"+wound_rows[i].wound_code+\"\\\"\"+\" \";\n\t\t}\n\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t}\n  }\n  return xmlString;\n} commented by Sathish.K on 19-02-2009*/\n\nfunction createXMLForOperations(){\n  var rows=parent.ObjectCollect.rows;\n  var bill_flag=document.forms[0].bill_flag.value;\n  var len = rows.length;\n  var table_name = \"OT_POST_OPER_DTLS\";\n  var xmlString =\"\";\n  var tab_name = document.forms[0].tab_name.value;\n\n\n  for(var i=0;i<len;i++){\n\t // here we skip the rows db_mode=\'L\' since no modification is done (fetched records from db)\n\t //if(rows[i]!=null && rows[i].db_mode!=\'L\'){\n\t if(rows[i]!=null){\n\t\t if(rows[i].fpp_category==\'\' || rows[i].fpp_category ==undefined || rows[i].fpp_category == null )\n\t\t\t rows[i].fpp_category=\"\";\n\t\txmlString+=\"<PROC_DTL\"+i+\" \";\n\t\txmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"oper_code=\\\"\"+rows[i].oper_code+\"\\\"\"+\" \";\n\t\txmlString+=\"right_left_flag=\\\"\"+rows[i].side_applicable+\"\\\"\"+\" \";\n\t\txmlString+=\"oper_remarks=\\\"\"+encodeURIComponent(rows[i].remarks,\"UTF-8\")+\"\\\"\"+\" \";\n\t\txmlString+=\"oper_line_num=\\\"\"+rows[i].line_no+\"\\\"\"+\" \";\n\t\txmlString+=\"order_line_num=\\\"\"+rows[i].order_line_no+\"\\\"\"+\" \";\n\t\txmlString+=\"oper_line_status=\\\"\"+rows[i].chk_status+\"\\\"\"+\" \";\n\t\txmlString+=\"cancel_remarks=\\\"\"+encodeURIComponent(rows[i].cancel_remarks,\"UTF-8\")+\"\\\"\"+\" \";\n\t\txmlString+=\"Speciality_code=\\\"\"+rows[i].Speciality_code+\"\\\"\"+\" \";\n\t\txmlString+=\"order_catalog_code=\\\"\"+rows[i].order_catalog_code+\"\\\"\"+\" \";\n\t\tif(bill_flag==\"true\")\n\t\t{\n\t\txmlString+=\"fpp_category=\\\"\"+rows[i].fpp_category+\"\\\"\"+\" \";//Added Against ML-MMOH-CRF-1939-US4\n\t\t/* if(rows[i].fpp_category === \'S\' || rows[i].fpp_category === \'M\' || rows[i].fpp_category === \'C\' )\n\t\t\trows[i].fpp_yn = \'Y\';\n\t\telse rows[i].fpp_yn = \'N\'; */\n\t\tif(rows[i].fpp_order_yn==\'\' || rows[i].fpp_order_yn ==undefined || rows[i].fpp_order_yn == null)\n\t\t\trows[i].fpp_order_yn = \"N\";\n\t\telse rows[i].fpp_order_yn = rows[i].fpp_order_yn;\n\t\txmlString+=\"fpp_yn=\\\"\"+rows[i].fpp_order_yn+\"\\\"\"+\" \";//Added Against ML-MMOH-SCF-2511-TF\n\t\txmlString+=\"bill_str=\\\"\"+rows[i].rate+\"::\"+rows[i].bill_str+\"\\\"\"+\" \";\n\t\txmlString+=\"panel_str=\\\"\"+escape(rows[i].panel_str)+\"\\\"\"+\" \";\n\t\t}\n\n\t\txmlString+=\"order_id=\\\"\"+rows[i].order_id+\"\\\"\"+\" \";\n\t\t\n\t\tif(rows[i].db_mode==\"L\")\n\t\t\txmlString+=\"db_mode=\\\"\"+\"U\"+\"\\\"\"+\" \";\n\t\telse\n\t\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\t\n\t\t//xmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t }\n  }\n return xmlString;\n}\n\nfunction createXMLForPostOperDiagnosis(){\n  var rows=parent.ObjectCollect.diagnosis_rows;\n  var len = rows.length;\n  var table_name = \"OT_POST_OPER_DIAG\";\n  var xmlString =\"\";\n  for(var i=0;i<len;i++){\n\t // here we skip the rows db_mode=\'L\' since no modification is done (fetched records from db)\n\t if(rows[i]!=null && rows[i].db_mode!=\'L\'){\n\t\txmlString+=\"<DIAG_DTL\"+i+\" \";\n\t\txmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"diag_code=\\\"\"+rows[i].icd_code+\"\\\"\"+\" \";\n\t\txmlString+=\"scheme_code=\\\"\"+rows[i].scheme_code+\"\\\"\"+\" \";\n\t\txmlString+=\"srl_no=\\\"\"+rows[i].srl_no+\"\\\"\"+\" \";\n\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t }\n  }\n return xmlString;\n}\n\nfunction createXMLForProblemTable(){\n  var rows=parent.ObjectCollect.diagnosis_rows;\n  var len = rows.length;\n  var table_name = \"PR_PROBLEM\";\n  var xmlString =\"\";\n  for(var i=0;i<len;i++){\n\t // here we skip the rows db_mode=\'L\' since no modification is done (fetched records from db)\n\t if(rows[i]!=null && rows[i].db_mode!=\'L\'){\n\t\txmlString+=\"<PR_DTL\"+i+\" \";\n\t\t//xmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"patient_id=\\\"\"+rows[i].patient_id+\"\\\"\"+\" \";\n\t\txmlString+=\"srl_no=\\\"\"+rows[i].srl_no+\"\\\"\"+\" \";\n\t\txmlString+=\"diag_code=\\\"\"+rows[i].icd_code+\"\\\"\"+\" \";\n\t\txmlString+=\"scheme_code=\\\"\"+rows[i].scheme_code+\"\\\"\"+\" \";\n\t\txmlString+=\"diag_desc=\\\"\"+rows[i].icd_desc+\"\\\"\"+\" \";\n\t\t\n\t\txmlString+=\"onset_date=\\\"\"+rows[i].onset_date+\"\\\"\"+\" \";\n\t\txmlString+=\"close_date=\\\"\"+rows[i].close_date+\"\\\"\"+\" \";\n\t\t\n\t\txmlString+=\"primary=\\\"\"+rows[i].primary+\"\\\"\"+\" \";\n\t\txmlString+=\"significant=\\\"\"+rows[i].significant+\"\\\"\"+\" \";\n\t\t\n\t\txmlString+=\"notifiable=\\\"\"+rows[i].notifiable+\"\\\"\"+\" \";\n\t\txmlString+=\"sensitive=\\\"\"+rows[i].sensitive+\"\\\"\"+\" \";\n\n\t\txmlString+=\"surgeon_code=\\\"\"+rows[i].surgeon_code+\"\\\"\"+\" \";\n\t\txmlString+=\"encounter_id=\\\"\"+rows[i].encounter_id+\"\\\"\"+\" \";\n\t\txmlString+=\"source_code=\\\"\"+rows[i].source_code+\"\\\"\"+\" \";\n\t\txmlString+=\"source_type=\\\"\"+rows[i].source_type+\"\\\"\"+\" \";\n\t\t\n\t\txmlString+=\"v_stat=\\\"\"+rows[i].v_stat+\"\\\"\"+\" \";\n\t\txmlString+=\"remarks=\\\"\"+rows[i].remarks+\"\\\"\"+\" \";\n\t\t\n\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\n\t }\n  }\n return xmlString;\n}\nfunction createXMLForVisitPersonnel(){\nvar locale=document.forms[0].locale.value;\n  var rows=parent.ObjectCollect.visit_pers_rows;\n  var rows_time=parent.ObjectCollect.time_rows;\n  var rows_wound=parent.ObjectCollect.wound_rows;\n  var table_name=\"VISIT_PERSONNEL\";\n  var len = rows.length;\n  var l=rows_time.length;\n  var k=rows_wound.length;\n /* TIME_AND_DETAILS_ENTERED = (rows_time.length>0)?\"Y\":\"N\";\n  WOUND_DETAILS_ENTERED = (rows_wound.length>0)?\"Y\":\"N\";*/\n  //if(TIME_AND_DETAILS_ENTERED==\"Y\") return \"\";\n  var xmlString =\"\";\n  for(var i=0;i<len;i++){\n\t  TIME_AND_DETAILS_ENTERED = (l>0)?\"Y\":\"N\";\n      WOUND_DETAILS_ENTERED = (k>0)?\"Y\":\"N\";\n\t//  if(TIME_AND_DETAILS_ENTERED==\"Y\" && (rows[i].speciality_code == rows_time[i].speciality_code)) return \"\";\n\t\n\t if(rows[i]!=null && rows[i].db_mode !=\'L\'){\n\n\n\t\txmlString+=\"<PER_DTL\"+i+\" \";\n\t\txmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"speciality_code=\\\"\"+rows[i].speciality_code+\"\\\"\"+\" \";\n\t\txmlString+=\"visit_desc=\\\"\"+encodeURIComponent(rows[i].visit_desc,\"UTF-8\")+\"\\\"\"+\" \";\n\t\t\n\n\t\tif(WOUND_DETAILS_ENTERED==\"Y\" && (rows[i].speciality_code == wound_rows[i].speciality_code) ){\n\t\t\txmlString+=\"wound_code=\\\"\"+wound_rows[i].w";
    private final static byte[]  _wl_block2_0Bytes = _getBytes( _wl_block2_0 );

    private final static java.lang.String  _wl_block2_1 ="ound_code+\"\\\"\"+\" \";\n\t\t}\n\n\n\t if(TIME_AND_DETAILS_ENTERED==\"Y\")\n\t\t {\n\t\t\n\t\tif( (rows[i].speciality_code == rows_time[i].speciality_code) ){\n\n\t\txmlString+=\"preparation_time=\\\"\"+convertDate(rows_time[i].db_preparation_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"procedure_start_time=\\\"\"+convertDate(rows_time[i].db_procedure_start_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"procedure_end_time=\\\"\"+convertDate(rows_time[i].db_procedure_end_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"anaesthesia_start_time=\\\"\"+convertDate(rows_time[i].db_anaesthesia_start_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"anaesthesia_end_time=\\\"\"+convertDate(rows_time[i].db_anaesthesia_end_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"surgery_start_time=\\\"\"+convertDate(rows_time[i].db_surgery_start_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"surgery_end_time=\\\"\"+convertDate(rows_time[i].db_surgery_end_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\n\t\txmlString+=\"prep_start_time=\\\"\"+convertDate(rows_time[i].db_prep_start_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";//Added by Arthi for ML-MMOH-CRF-1936\n\t\txmlString+=\"prep_end_time=\\\"\"+convertDate(rows_time[i].db_prep_end_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\n\t\t }\n\t\t }\n\n\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t}\n\tl--;\n\tk--;\n  }\n  return xmlString;\n\n}\n\nfunction createXMLForWoundDetails(){\n  var locale=document.forms[0].locale.value;\n  var rows=parent.ObjectCollect.wound_rows;\n  var rows_time=parent.ObjectCollect.time_rows;\n  var visit_pers_rows=parent.ObjectCollect.visit_pers_rows;\n  var table_name=\"OT_POST_OPER_DTL2_WOU\";\n  var len = rows.length;\n  var l = rows_time.length;\n  var k = visit_pers_rows.length;\n\n  var xmlString =\"\";\n  for(var i=0;i<len;i++){\n\t  TIME_AND_DETAILS_ENTERED = (l>0)?\"Y\":\"N\";\n      VISIT_PERSONEL_ENTERED = (k>0)?\"Y\":\"N\";\n      //if((VISIT_PERSONEL_ENTERED==\"Y\" && (rows[i].speciality_code == visit_pers_rows[i].speciality_code))||(TIME_AND_DETAILS_ENTERED==\"Y\"&& (rows[i].speciality_code == rows_time[i].speciality_code))) return \"\";\n\t if(rows[i]!=null &&  rows[i].db_mode !=\'L\'){\n\n\t\n\t\txmlString+=\"<WOU_DTL\"+i+\" \";\n\t\txmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"speciality_code=\\\"\"+rows[i].speciality_code+\"\\\"\"+\" \";\n\n\t\t  if(VISIT_PERSONEL_ENTERED==\"Y\")\n\t\t {\n\t\t\tif( (rows[i].speciality_code == visit_pers_rows[i].speciality_code) ){\n\t\t\txmlString+=\"visit_desc=\\\"\"+encodeURIComponent(visit_pers_rows[i].visit_desc,\"UTF-8\")+\"\\\"\"+\" \";\n\n\t\t }\n\t\t }\n\t\t if(TIME_AND_DETAILS_ENTERED==\"Y\")\n\t\t {\n\t\t\n\t\tif( (rows[i].speciality_code == rows_time[i].speciality_code) ){\n\n\t\txmlString+=\"preparation_time=\\\"\"+convertDate(rows_time[i].db_preparation_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"procedure_start_time=\\\"\"+convertDate(rows_time[i].db_procedure_start_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"procedure_end_time=\\\"\"+convertDate(rows_time[i].db_procedure_end_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"anaesthesia_start_time=\\\"\"+convertDate(rows_time[i].db_anaesthesia_start_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"anaesthesia_end_time=\\\"\"+convertDate(rows_time[i].db_anaesthesia_end_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"surgery_start_time=\\\"\"+convertDate(rows_time[i].db_surgery_start_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"surgery_end_time=\\\"\"+convertDate(rows_time[i].db_surgery_end_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\n\t\txmlString+=\"prep_start_time=\\\"\"+convertDate(rows_time[i].db_prep_start_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";//Added by Arthi for ML-MMOH-CRF-1936\n\t\txmlString+=\"prep_end_time=\\\"\"+convertDate(rows_time[i].db_prep_end_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\n\t\t }\n\t\t }\n\n\t\txmlString+=\"wound_code=\\\"\"+rows[i].wound_code+\"\\\"\"+\" \";\n\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t\t\n\t }\n\t l--;\n\t k--;\n  }\n\n  return xmlString;\n}\n\nfunction createXMLForTimeAndDetails(){\n\tvar rows=parent.ObjectCollect.time_rows;\n\tvar locale=document.forms[0].locale.value;\n\tvar visit_pers_rows=parent.ObjectCollect.visit_pers_rows;\n\tvar wound_rows = parent.ObjectCollect.wound_rows;\n\tvar table_name=\"OT_POST_OPER_DTL2\";\n\tvar j=visit_pers_rows.length;\n\tvar k=wound_rows.length;\n\t/*alert(\"(visit_pers_rows.length----->\"+visit_pers_rows.length)\n\tVISIT_PERSONEL_ENTERED = (visit_pers_rows.length>0)?\"Y\":\"N\";\n\talert(\"VISIT_PERSONEL_ENTERED----->\"+VISIT_PERSONEL_ENTERED)\n\tWOUND_DETAILS_ENTERED = (wound_rows.length>0)?\"Y\":\"N\";*/\n\tvar len = rows.length;\n\tvar xmlString =\"\";\n\tfor(var i=0;i<len;i++){\n\t //if(rows[i]!=null &&  rows[i].db_mode!=\'L\' && rows[i].verify_flag==\"OFF\" ){\n\t\t// alert(\"(visit_pers_rows.length----->\"+j)\n\t     VISIT_PERSONEL_ENTERED = (j>0)?\"Y\":\"N\";\n\t    // alert(\"VISIT_PERSONEL_ENTERED----->\"+VISIT_PERSONEL_ENTERED)\n\t     WOUND_DETAILS_ENTERED = (k>0)?\"Y\":\"N\";\n\t\t //alert(\"rows[i].db_mode---->\"+rows[i].db_mode)\n\t if(rows[i]!=null && rows[i].db_mode!=\'L\' ){\n\t\txmlString+=\"<TIME_DTL\"+i+\" \";\n\t\txmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"speciality_code=\\\"\"+rows[i].speciality_code+\"\\\"\"+\" \";\n\t\tif(VISIT_PERSONEL_ENTERED==\"Y\")\n\t\t {// alert(\"308\")\n\t\t\tif( (rows[i].speciality_code == visit_pers_rows[i].speciality_code) ){\n\t\t\t//xmlString+=\"visit_desc=\\\"\"+visit_pers_rows[i].visit_desc+\"\\\"\"+\" \";\n\t\t\txmlString+=\"visit_desc=\\\"\"+encodeURIComponent(visit_pers_rows[i].visit_desc,\"UTF-8\")+\"\\\"\"+\" \";\n\n\t\t }\n\t\t }\n\t\t\n\t\tif(WOUND_DETAILS_ENTERED==\"Y\" && (rows[i].speciality_code == wound_rows[i].speciality_code) ){\n\t\t\txmlString+=\"wound_code=\\\"\"+wound_rows[i].wound_code+\"\\\"\"+\" \";\n\t\t}\n\t\txmlString+=\"preparation_time=\\\"\"+convertDate(rows[i].db_preparation_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"procedure_start_time=\\\"\"+convertDate(rows[i].db_procedure_start_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"procedure_end_time=\\\"\"+convertDate(rows[i].db_procedure_end_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"anaesthesia_start_time=\\\"\"+convertDate(rows[i].db_anaesthesia_start_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"anaesthesia_end_time=\\\"\"+convertDate(rows[i].db_anaesthesia_end_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"surgery_start_time=\\\"\"+convertDate(rows[i].db_surgery_start_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\t\txmlString+=\"surgery_end_time=\\\"\"+convertDate(rows[i].db_surgery_end_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\n\t\txmlString+=\"prep_start_time=\\\"\"+convertDate(rows[i].db_prep_start_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";//Added by Arthi for ML-MMOH-CRF-1936\n\t\txmlString+=\"prep_end_time=\\\"\"+convertDate(rows[i].db_prep_end_time,\'DMYHM\',locale,\"en\")+\"\\\"\"+\" \";\n\n\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t\t\n\t }\n\t\n\tj--;\n\tk--;\n  }\n\n  return xmlString;\n}\n\n\n//Added by Suma wrt Surgical Accessories changes\n\n\nfunction createXMLForInstruments(){\n   var rows=parent.ObjectCollect.instrument_rows;\n  var table_name=\"OT_SURGICAL_ACCESSORIES_INSTRUMENT\";\n  var accessory_type = \"I\";\n  var len = rows.length;\n  var xmlString =\"\";\n   var bill_flag=document.forms[0].bill_flag.value;\n  for(var i=0;i<len;i++){\n\t  //alert(\"88::\"+rows[i]);\n\t  //alert(\"88::\"+rows[i].db_mode);\n\t //if(rows[i]!=null &&  rows[i].db_mode!=\'L\'){\n\t if(rows[i]!=null){\n\t\txmlString+=\"<INSTR_DTL\"+i+\" \";\n\t\txmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"oper_code=\\\"\"+rows[i].oper_code+\"\\\"\"+\" \";\n\t\txmlString+=\"instr_code=\\\"\"+rows[i].instr_code+\"\\\"\"+\" \";\n\t\txmlString+=\"key_line=\\\"\"+rows[i].key_line+\"\\\"\"+\" \"; // Use this during update mode for Billing\n\t\tif(bill_flag==\"true\")\n\t\t{\n\t\txmlString+=\"bill_str=\\\"\"+rows[i].rate+\"::\"+rows[i].bill_str+\"\\\"\"+\" \"; // Newly added by bshankar\n\t\txmlString+=\"panel_str=\\\"\"+escape(rows[i].panel_str)+\"\\\"\"+\" \"; // Newly Added by bshankar\n\t\t}\n\t\txmlString+=\"oper_line_no=\\\"\"+rows[i].oper_line_no+\"\\\"\"+\" \";\n\t\t//Encoded for CRF-0058 by Rajesh\n\t\txmlString+=\"tray_no=\\\"\"+encodeURIComponent(rows[i].tray_no)+\"\\\"\"+\" \";\n\t\t//Encoded for CRF-0058 by Rajesh\n\t\txmlString+=\"quantity=\\\"\"+rows[i].quantity+\"\\\"\"+\" \";\n\t\txmlString+=\"remarks=\\\"\"+checkSpl( rows[i].remarks )+\"\\\"\"+\" \";\n\t\txmlString+=\"accessory_type=\\\"\"+accessory_type+\"\\\"\"+\" \";\n\t\tif(rows[i].db_mode==\"L\")\n\t\t\txmlString+=\"db_mode=\\\"\"+\"U\"+\"\\\"\"+\" \";\n\t\telse\n\t\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t\t\n\t }\n  }\n //alert(\"105:\"+xmlString);\n   return xmlString;\n}\n\nfunction createXMLForEquipments(){\n  var rows=parent.ObjectCollect.equipment_rows;\n  var table_name=\"OT_SURGICAL_ACCESSORIES_EQUIPMENTS\";\n  var accessory_type = \"E\";\n  var len = rows.length;\n  var xmlString =\"\";\n  var bill_flag=document.forms[0].bill_flag.value;\n  for(var i=0;i<len;i++){\n\t //if(rows[i]!=null &&  rows[i].db_mode!=\'L\'){\n\t if(rows[i]!=null){\n\t\txmlString+=\"<EQUIP_DTL\"+i+\" \";\n\t\txmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"oper_code=\\\"\"+rows[i].oper_code+\"\\\"\"+\" \";\n\t\txmlString+=\"equip_code=\\\"\"+rows[i].equip_code+\"\\\"\"+\" \";\n\t\txmlString+=\"st_location=\\\"\"+rows[i].st_location+\"\\\"\"+\" \";//091\n\t\txmlString+=\"key_line=\\\"\"+rows[i].key_line+\"\\\"\"+\" \"; // Use this during update mode for Billing\n\t\tif(bill_flag==\"true\")\n\t\t{\n\t\txmlString+=\"bill_str=\\\"\"+rows[i].rate+\"::\"+rows[i].bill_str+\"\\\"\"+\" \"; // Newly added by bshankar\n\t\txmlString+=\"panel_str=\\\"\"+escape(rows[i].panel_str)+\"\\\"\"+\" \"; // Newly Added by bshankar\n\t\t}\n\t\txmlString+=\"oper_line_no=\\\"\"+rows[i].oper_line_no+\"\\\"\"+\" \";\n\t\txmlString+=\"equip_id=\\\"\"+rows[i].equip_id+\"\\\"\"+\" \";\n\t\txmlString+=\"quantity=\\\"\"+rows[i].quantity+\"\\\"\"+\" \";\n\t\txmlString+=\"remarks=\\\"\"+checkSpl( rows[i].remarks )+\"\\\"\"+\" \";\n\t\txmlString+=\"accessory_type=\\\"\"+accessory_type+\"\\\"\"+\" \";\n\t\tif(rows[i].db_mode==\"L\")\n\t\t\txmlString+=\"db_mode=\\\"\"+\"U\"+\"\\\"\"+\" \";\n\t\telse\n\t\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t\t\n\t }\n  }\n  \n  return xmlString;\n}\n\nfunction createXMLForImplants(){\n  var rows=parent.ObjectCollect.implants_rows;\n  var table_name=\"OT_SURGICAL_ACCESSORIES_IMPLANTS\";\n  var accessory_type = \"S\";\n  var len = rows.length;\n  var xmlString =\"\";\n  var bill_flag=document.forms[0].bill_flag.value;\n\n  for(var i=0;i<len;i++){\n\t //if(rows[i]!=null &&  rows[i].db_mode!=\'L\'){\n\t if(rows[i]!=null){\n\t\txmlString+=\"<IMPL_DTL\"+i+\" \";\n\t\txmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"oper_code=\\\"\"+rows[i].oper_code+\"\\\"\"+\" \";\n\t\txmlString+=\"implant_code=\\\"\"+rows[i].implant_code+\"\\\"\"+\" \";\n\t\txmlString+=\"key_line=\\\"\"+rows[i].key_line+\"\\\"\"+\" \"; // Use this during update mode for Billing\n\t\tif(bill_flag==\"true\")\n\t\t{\n\t\txmlString+=\"bill_str=\\\"\"+rows[i].rate+\"::\"+rows[i].bill_str+\"\\\"\"+\" \"; // Newly added by bshankar\n\t\txmlString+=\"panel_str=\\\"\"+escape(rows[i].panel_str)+\"\\\"\"+\" \"; // Newly Added";
    private final static byte[]  _wl_block2_1Bytes = _getBytes( _wl_block2_1 );

    private final static java.lang.String  _wl_block2_2 =" by bshankar\n\t\t}\n\t\txmlString+=\"oper_line_no=\\\"\"+rows[i].oper_line_no+\"\\\"\"+\" \";\n\t\txmlString+=\"frm_pick_list=\\\"\"+rows[i].frm_pick_list+\"\\\"\"+\" \";\n\t\txmlString+=\"quantity=\\\"\"+rows[i].quantity+\"\\\"\"+\" \";\n\t\txmlString+=\"reserved_qty=\\\"\"+rows[i].quantity+\"\\\"\"+\" \";\n\t\txmlString+=\"requested_qty=\\\"\"+rows[i].requested_qty+\"\\\"\"+\" \";\n\t\txmlString+=\"req_store_code=\\\"\"+rows[i].req_store_code+\"\\\"\"+\" \";\n\t\txmlString+=\"sale_document_no=\\\"\"+rows[i].sale_document_no+\"\\\"\"+\" \";\n\t\txmlString+=\"sale_document_type=\\\"\"+rows[i].sale_document_type+\"\\\"\"+\" \";\n\t\txmlString+=\"manufacturer=\\\"\"+rows[i].manufacturer+\"\\\"\"+\" \";\n\t\txmlString+=\"batch=\\\"\"+rows[i].batch+\"\\\"\"+\" \";\n\t\t//xmlString+=\"remarks=\\\"\"+rows[i].remarks+\"\\\"\"+\" \";\n\t\t//Added encodeURIComponent on 10/18/2010 for IN023758 by AnithaJ\n\t\txmlString+=\"remarks=\\\"\"+encodeURIComponent(rows[i].remarks)+\"\\\"\"+\" \";\n\t\txmlString+=\"accessory_type=\\\"\"+accessory_type+\"\\\"\"+\" \";\n\t\tif(rows[i].db_mode==\"L\")\n\t\t\txmlString+=\"db_mode=\\\"\"+\"U\"+\"\\\"\"+\" \";\n\t\telse\n\t\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t\t\n\t }\n  }\n  return xmlString;\n}\n\nfunction createXMLForPackage(){\n  var rows=parent.ObjectCollect.packs_rows;\n  var table_name=\"OT_SURGICAL_ACCESSORIES_PACKAGES\";\n  var accessory_type = \"P\";\n  var len = rows.length;\n  var xmlString =\"\";\n  var bill_flag=document.forms[0].bill_flag.value;\n  for(var i=0;i<len;i++){\n\t //if(rows[i]!=null &&  rows[i].db_mode!=\'L\'){\n\t if(rows[i]!=null){\n\t\txmlString+=\"<PACK_DTL\"+i+\" \";\n\t\txmlString+=\"oper_num=\\\"\"+document.forms[0].oper_num.value+\"\\\"\"+\" \";\n\t\txmlString+=\"oper_code=\\\"\"+rows[i].oper_code+\"\\\"\"+\" \";\n\t\txmlString+=\"package_code=\\\"\"+rows[i].package_code+\"\\\"\"+\" \";\n\t\txmlString+=\"key_line=\\\"\"+rows[i].key_line+\"\\\"\"+\" \"; // Use this during update mode for Billing\n\t\tif(bill_flag==\"true\")\n\t\t{\n\t\txmlString+=\"bill_str=\\\"\"+rows[i].rate+\"::\"+rows[i].bill_str+\"\\\"\"+\" \"; // Newly added by bshankar\n\t\txmlString+=\"panel_str=\\\"\"+escape(rows[i].panel_str)+\"\\\"\"+\" \"; // Newly Added by bshankar\n\t\t}\n\t\txmlString+=\"oper_line_no=\\\"\"+rows[i].oper_line_no+\"\\\"\"+\" \";\n\t\txmlString+=\"quantity=\\\"\"+rows[i].quantity+\"\\\"\"+\" \";\n\t\txmlString+=\"reserved_qty=\\\"\"+rows[i].quantity+\"\\\"\"+\" \";\n\t\txmlString+=\"requested_qty=\\\"\"+rows[i].requested_qty+\"\\\"\"+\" \";\n\t\txmlString+=\"req_store_code=\\\"\"+rows[i].req_store_code+\"\\\"\"+\" \";\n\t\txmlString+=\"sale_document_no=\\\"\"+rows[i].sale_document_no+\"\\\"\"+\" \";\n\t\txmlString+=\"sale_document_type=\\\"\"+rows[i].sale_document_type+\"\\\"\"+\" \";\n\t\txmlString+=\"remarks=\\\"\"+checkSpl(rows[i].remarks)+\"\\\"\"+\" \";\n\t\txmlString+=\"accessory_type=\\\"\"+accessory_type+\"\\\"\"+\" \";\n\t\tif(rows[i].db_mode==\"L\")\n\t\t\txmlString+=\"db_mode=\\\"\"+\"U\"+\"\\\"\"+\" \";\n\t\telse\n\t\t\txmlString+=\"db_mode=\\\"\"+rows[i].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t }\n  }\n  //alert(\"xmlString\")\n  \n  return xmlString;\n}\n\n\n\n\n\n\nfunction createXMLForICDPCS(){\n  var rows=parent.ObjectCollect.ICD_PCS_ROWS;\n  var table_name=\"OT_POST_OPER_PROC_DTLS\";\n  var xmlString =\"\";\n  for(var j in rows){\n\n\t if(rows[j].db_mode!=\'L\'){\n\t\txmlString+=\"<ICD_PCS_DTL\"+j+\" \";\n\t\txmlString+=\"oper_code=\\\"\"+rows[j].oper_code+\"\\\"\"+\" \";\n\t\txmlString+=\"oper_line_no=\\\"\"+rows[j].line_no+\"\\\"\"+\" \";\n\t\txmlString+=\"coding_scheme=\\\"\"+rows[j].coding_scheme+\"\\\"\"+\" \";\n\t\txmlString+=\"proc_code=\\\"\"+rows[j].proc_code+\"\\\"\"+\" \";\n\t\tif(rows[j].db_mode==\"U\")\n\t\txmlString+=\"old_proc_code=\\\"\"+rows[j].old_proc_code+\"\\\"\"+\" \"\n\t\txmlString+=\"db_mode=\\\"\"+rows[j].db_mode+\"\\\"\"+\" \";\n\t\txmlString+=\"table_name=\\\"\"+table_name+\"\\\"\"+\" />\";\n\t }\n  }\n  //alert(xmlString);\n  return xmlString;\n}\n\n//Created newly for rajesh on 18/08/08\n/*\nfunction createXMLForSubServices(){\n  var rows=parent.ObjectCollect.Bill_Sub_Services_Rows;\n  alert(rows.length)\n  alert(rows[0].value);\n  var xmlString =\"\";\n \t\txmlString+=\"<Bill_Sub_Services_Dtl\";\n\t\txmlString+=\"facility_id=\\\"\"+rows[1]+\"\\\"\"+\" \";\n\t\txmlString+=\"patient_id=\\\"\"+rows[2]+\"\\\"\"+\" \";\n\t\txmlString+=\"episode_type=\\\"\"+rows[3]+\"\\\"\"+\" \";\n\t\txmlString+=\"episode_id=\\\"\"+rows[4]+\"\\\"\"+\" \";\n\t\txmlString+=\"visit_id=\\\"\"+rows[5]+\"\\\"\"+\" \"\n\t\txmlString+=\"str_order_cat_code=\\\"\"+rows[6]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_serv_panel_ind=\\\"\"+rows[7]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_blng_serv_code=\\\"\"+rows[8]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_trx_date_time=\\\"\"+rows[9]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_serv_qty=\\\"\"+rows[10]+\"\\\"\"+\" \";\n\t\txmlString+=\"charging_stage=\\\"\"+rows[11]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_charge_based_amt=\\\"\"+rows[12]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_pract_id=\\\"\"+rows[13]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_overridden_excl_incl_ind=\\\"\"+rows[14]+\"\\\"\"+\" \";\n\t\txmlString+=\"strloggeduser=\\\"\"+rows[15]+\"\\\"\"+\" \";\n\t\txmlString+=\"strclientip=\\\"\"+rows[16]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_dep_blng_serv_code=\\\"\"+rows[17]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_dep_serv_charge_eff_perc=\\\"\"+rows[18]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_disc_seq_num=\\\"\"+rows[19]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_multi_surg_disc_eff_perc=\\\"\"+rows[20]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_ref_sec_module_id=\\\"\"+rows[21]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_ref_sec_key_main=\\\"\"+rows[22]+\"\\\"\"+\" \";\n\t\txmlString+=\"str_ref_sec_key_line_num=\\\"\"+rows[23]+\"\\\"\"+\" />\";\n  alert(\"OperCollectObject : \"+xmlString);\n  return xmlString;\n}\n*/\n</script>\n<script src=\'../../eCommon/js/showModalDialog.js\' language=\'JavaScript\'></script>\n\n</head>\n\n";
    private final static byte[]  _wl_block2_2Bytes = _getBytes( _wl_block2_2 );

    private final static java.lang.String  _wl_block3 ="\n\n<body OnMouseDown=\'CodeArrest()\' onKeyDown = \'lockKey()\'>\n<form name=\"OperCollectForm\" id=\"OperCollectForm\">\n";
    private final static byte[]  _wl_block3Bytes = _getBytes( _wl_block3 );

    private final static java.lang.String  _wl_block4 ="\n<input type=\'hidden\' name=\'oper_num\' id=\'oper_num\' value=\'";
    private final static byte[]  _wl_block4Bytes = _getBytes( _wl_block4 );

    private final static java.lang.String  _wl_block5 ="\' >\n<input type=\'hidden\' name=\'bill_flag\' id=\'bill_flag\' value=\'";
    private final static byte[]  _wl_block5Bytes = _getBytes( _wl_block5 );

    private final static java.lang.String  _wl_block6 ="\' >\n<input type=\'hidden\' name=\'locale\' id=\'locale\' value=\'";
    private final static byte[]  _wl_block6Bytes = _getBytes( _wl_block6 );

    private final static java.lang.String  _wl_block7 ="\' >\n<input type=\'hidden\' name=\'slate_user_id\' id=\'slate_user_id\' value=\'";
    private final static byte[]  _wl_block7Bytes = _getBytes( _wl_block7 );

    private final static java.lang.String  _wl_block8 ="\' >\n<input type=\'hidden\' name=\'tab_name\' id=\'tab_name\' value=\'";
    private final static byte[]  _wl_block8Bytes = _getBytes( _wl_block8 );

    private final static java.lang.String  _wl_block9 ="\' >\n</form>\n</body>\n</html>\n\n";
    private final static byte[]  _wl_block9Bytes = _getBytes( _wl_block9 );
 
// instead of using CommonBean.checkForNull use StringUtil.jsp  to filter null values
public String checkForNull(String str){
	return (str!=null && str.trim()!="" && str.intern()!="null")?str:"";
}
public String checkForNull(String inputString,String defaultValue){
        return (checkForNull(inputString).intern()!="") ? inputString:defaultValue;
	}

public HashMap CToHashMap( Hashtable table ) {
		if( table == null ) return null;
		return new HashMap(table);
}


    static private weblogic.jsp.internal.jsp.JspFunctionMapper _jspx_fnmap = weblogic.jsp.internal.jsp.JspFunctionMapper.getInstance();

    public void _jspService(javax.servlet.http.HttpServletRequest request, javax.servlet.http.HttpServletResponse response) 
    throws javax.servlet.ServletException, java.io.IOException {

        javax.servlet.ServletConfig config = getServletConfig();
        javax.servlet.ServletContext application = config.getServletContext();
        javax.servlet.jsp.tagext.JspTag _activeTag = null;
        java.lang.Object page = this;
        javax.servlet.jsp.PageContext pageContext = javax.servlet.jsp.JspFactory.getDefaultFactory().getPageContext(this, request, response, null, true , 8192 , true );
        response.setHeader("Content-Type", "text/html;charset=UTF-8");
        javax.servlet.jsp.JspWriter out = pageContext.getOut();
        weblogic.servlet.jsp.ByteWriter _bw = (weblogic.servlet.jsp.ByteWriter)out;
        _bw.setInitCharacterEncoding(_WL_ORIGINAL_ENCODING, _WL_ENCODED_BYTES_OK);
        javax.servlet.jsp.JspWriter _originalOut = out;
        javax.servlet.http.HttpSession session = request.getSession( true );
        try {;
            response.setContentType("text/html;charset=UTF-8");
            _bw.write(_wl_block0Bytes, _wl_block0);
            _bw.write(_wl_block1Bytes, _wl_block1);
 request.setCharacterEncoding("UTF-8");
   //Added Against MMS Vulnerability Issue - Starts
   request= new XSSRequestWrapper(request);
   response.addHeader("X-XSS-Protection", "1; mode=block");
   response.addHeader("X-Content-Type-Options", "nosniff");
   //Added Against MMS Vulnerability Issue - Ends

            _bw.write(_wl_block1Bytes, _wl_block1);
            _bw.write(_wl_block1Bytes, _wl_block1);
            _bw.write(_wl_block1Bytes, _wl_block1);
            _bw.write(_wl_block1Bytes, _wl_block1);

  String locale = (String)session.getAttribute("LOCALE");
String tab_name = checkForNull(request.getParameter("tab_name"));

            _bw.write(_wl_block2_0Bytes, _wl_block2_0);
            _bw.write(_wl_block2_1Bytes, _wl_block2_1);
            _bw.write(_wl_block2_2Bytes, _wl_block2_2);
 
String oper_num = checkForNull(request.getParameter("oper_num")); 


            _bw.write(_wl_block3Bytes, _wl_block3);
 String bill_flag = request.getParameter("bill_flag");

            _bw.write(_wl_block4Bytes, _wl_block4);
            out.print( String.valueOf(oper_num));
            _bw.write(_wl_block5Bytes, _wl_block5);
            out.print( String.valueOf(bill_flag));
            _bw.write(_wl_block6Bytes, _wl_block6);
            out.print( String.valueOf(locale));
            _bw.write(_wl_block7Bytes, _wl_block7);
            out.print( String.valueOf(checkForNull(request.getParameter("slate_user_id"))));
            _bw.write(_wl_block8Bytes, _wl_block8);
            out.print( String.valueOf(tab_name));
            _bw.write(_wl_block9Bytes, _wl_block9);
        } catch (java.lang.Throwable __ee){
            if(!(__ee instanceof javax.servlet.jsp.SkipPageException)) {
                while ((out != null) && (out != _originalOut)) out = pageContext.popBody(); 
                _releaseTags(pageContext, _activeTag);
                pageContext.handlePageException(__ee);
            }
        }
    }
}
