<!-- <?xml version="1.0"?> -->
<!-- <!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"> -->

	<!--Mapping file autogenerated by MyEclipse - Hibernate Tools-->

<hibernate-mapping>

	<query name="ehis.DS.DS_MEAL_TYPE.masterQuery">
		from DsMealType as dsMealType 
		where upper(dsMealType.mealType) like upper(:mealType) 
		and upper(dsMealType.longDesc) like upper(:longDesc) 
		and upper(dsMealType.shortDesc) like upper(:shortDesc) 
		and upper(dsMealType.mealOrder) like upper(:mealOrder) 
		and dsMealType.effStatus like :status
	</query>
	
	<query name="ehis.DS.DS_MEAL_CLASS.masterQuery">
		from DsMealClass as dsMealClass where
		upper(dsMealClass.mealClass) like upper(:mealClass) and
		upper(dsMealClass.longDesc) like upper(:longDesc) and
		upper(dsMealClass.shortDesc) like upper(:shortDesc) and
		dsMealClass.effStatus like :status
	</query>
	
	<query name="ehis.DS.DS_ITEM_TYPE.masterQuery">
		from DsItemType as dsItemType 
		where upper(dsItemType.itemType) like upper(:itemType) 
		and upper(dsItemType.longDesc) like upper(:longDesc) 
		and upper(dsItemType.shortDesc) like upper(:shortDesc) 
		and dsItemType.commFormulaYn like :commFormulaYn 
		and upper(dsItemType.applDietCategory) like upper(:applDietCategory) 
		and dsItemType.effStatus like :status
	</query>

	<query name="ehis.DS.DS_INGREDIENTS.masterQuery">
		from DsIngredient ingredient
		where upper(ingredient.ingredientCode) like upper(:ingredientCode) 
		and upper(ingredient.longDesc) like upper(:longDesc)
		and upper(ingredient.shortDesc) like upper(:shortDesc) 
		and nvl(ingredient.mmItem.itemCode,'!') like nvl(:itemCode,nvl(ingredient.mmItem.itemCode,'!')) 
		and nvl(ingredient.amUom.uomCode,'!') like nvl(:stockUOMCode,nvl(ingredient.amUom.uomCode,'!')) 
		and ingredient.effStatus like :status	
							
	</query>

	<query name="ehis.DS.DS_RDA_CHART.masterQuery">
		from DsRdaChart chart 
		where upper(chart.id.amAgeGroup.shortDesc) like upper(:ageGroup)
		and chart.energyAllowance like nvl(:energyAllowance,chart.energyAllowance) 
		and chart.pregAddtionalEnerAllowance like nvl(:pregAddEnergyAllowance,chart.pregAddtionalEnerAllowance)
		and chart.lactAddtionalEnerAllowance like nvl(:lactAddEnergyAllowance,chart.lactAddtionalEnerAllowance) 
		and chart.effStatus like :status
	</query>

	<query name="ehis.DS.DS_DIET_TYPE.masterQuery">
		from DsDietType dttype 
		where dttype.dietType like upper(:dietType)
		and upper(dttype.longDesc) like upper (:longDesc)
		and upper(dttype.shortDesc) like upper (:shortDesc)
		and upper(dttype.amAgeGroup.ageGroupCode) like upper(:amAgeGroup)
		and upper(dttype.defaultYn) like upper(:defaultYn)
		and upper(dttype.orOrderCatalog.orderCatalogCode) like upper(:OrderCatalogCode)
		and upper(nvl(dttype.dsFeedType.feedType,'!')) like upper(:feedType)
		and upper(dttype.dietCycleType) like upper(:dietCycleType)
		and upper(dttype.dsDietCategory.dietCategoryCode) like upper(:dietCategoryCode)
		and dttype.effStatus like :status
	</query>

	<query name="ehis.DS.DS_MEAL_CATEGORY.masterQuery">
		from DsMealCategory category 
		where upper(category.mealCategoryCode) like upper(:mealCategory) 
		and upper(nvl(category.defaultDietType,'X')) like upper(:dietType)
		and upper(nvl(category.defaultMealClass,'X')) like upper(:mealClass)
	</query>

	<query name="ehis.DS.DS_FOOD_ITEM.masterQuery">
		from DsFoodItem fooditem 
		where upper(fooditem.foodItemCode) like upper(:foodItemCode)||'%' 
		and upper(fooditem.longDesc) like upper(:longDesc)||'%' 
		and upper(fooditem.shortDesc) like upper(:shortDesc)||'%' 
		and fooditem.dsItemType.itemType like :itemType||'%' 
		and fooditem.amUomByServingUomCode.uomCode like :servingUOMCode||'%' 
		and fooditem.prepBaseQty like :prepBaseQty||'%' 
		and fooditem.amUomByPrepUom.uomCode like :prepUOMCode||'%' 
		and fooditem.calorificContPerUom like :calorificContPerUom||'%' 
		and fooditem.effStatus like :status||'%'
	</query>

	<query name="ehis.DS.NUTRIENT_FOOD_ITEM_TAB.masterQuery">
		select foodNutrients.id.foodItemCode,
		foodNutrients.id.dsNutrients.nutrientsCode,
		foodNutrients.id.dsNutrients.shortDesc,
		foodNutrients.contentValue 
		from DsFoodItemNutrients foodNutrients 
		where foodNutrients.id.foodItemCode like :foodItemcode
	</query>

	<query name="ehis.ds.nutriFoodItem.masterQuery">
		select dsCommFormulaNutrients.id.commFormulaCode,
			dsCommFormulaNutrients.id.dsNutrients.nutrientsCode,
			nuritvw.id.shortDesc,
			dsCommFormulaNutrients.contentValue,
			nuritvw.id.uomCode
			from DsCommFormulaNutrients dsCommFormulaNutrients,DsNutrientsLangVw nuritvw
			where dsCommFormulaNutrients.id.dsNutrients.nutrientsCode = nuritvw.id.nutrientsCode
			and dsCommFormulaNutrients.id.commFormulaCode like :formulaCode
			and nuritvw.id.languageId like :languageId
	</query>

	<query name="ehis.ds.nutrients.uomCode">
		select dsNutrients.id.uomCode,
			dsNutrients.id.uomCode
		from DsNutrientsLangVw dsNutrients 
		where upper(dsNutrients.id.nutrientsCode) like upper(:code) 
	</query>

	<query name="ehis.DS.DS_RECIPE.masterQuery">
		select foodItemIngredients.id.dsIngredient.ingredientCode,
		ingredient.shortDesc,
		amUOM.shortDesc,
		foodItemIngredients.ingredientQty,
		foodItemIngredients.effStatus
		from DsFoodItemIngredients foodItemIngredients, DsIngredient ingredient, AmUom amUOM
		where foodItemIngredients.id.dsFoodItem.foodItemCode like	:foodItemCode 
		and foodItemIngredients.id.dsIngredient.ingredientCode = ingredient.ingredientCode 
		and ingredient.amUom.uomCode = amUOM.uomCode
	</query>

	<query name="ehis.DS.RECIPEQUERYRESULT.masterQuery">
		from DsFoodItemIngredients foodItemIngredients 
		where  upper(foodItemIngredients.id.dsFoodItem.foodItemCode) like  upper(:foodItemCode) 
		and  upper(foodItemIngredients.id.dsIngredient.ingredientCode) like upper(:ingredientCode)
	</query>

	<query name="ehis.DS.DS_COMM_FORMULA.masterQuery">
		from DsCommFormula commFormula 
		where upper(commFormula.commFormulaCode) like upper(:commFoodItem) 
		and upper(commFormula.longDesc) like  upper(:longDesc )
		and upper(commFormula.shortDesc) like  upper(:shortDesc)
		and upper(commFormula.dsItemType.itemType) like  upper(:itemType)
		and upper(commFormula.amUomByServingUomCode.uomCode) like  upper(:servingUOMCode)
		and upper(commFormula.amUomByServingUomCode.shortDesc) like  upper(:uomdesc)
	</query>
 
	<query name="ehis.DS.DS_DIET_CYCLE.masterQuery">
		select cycle.menuSchedCycleDays,
		cycle.mealPlanRefDate,
		cycle.mealPlanRefDayNo,
		cycle.effStatus,
		cycle.id.dsMealClass.mealClass,
		cycle.id.dsDietType.dietType
		from DsDietMenuSchedCycle as cycle
		where upper(cycle.id.dsDietType.dietType) like upper(:dietType)
		and upper(cycle.id.dsMealClass.mealClass) like upper(:mealClass)
		and upper(cycle.mealPlanRefDate) like upper(:mealPlanRefDate)
		and upper(cycle.menuSchedCycleDays) like upper(:menuSchedCycleDays)
		and upper(cycle.mealPlanRefDayNo) like upper(:refDayNo)
		and cycle.effStatus like :status
    </query>

	<query name="ehis.DS.DS_DIET_TIME_TABLE.masterQuery">
		select dsDietMenuTimeTable.id.dsKitchens.id.kitchenCode,
		dsDietMenuTimeTable.id.dsMealClass.mealClass,
		dsDietMenuTimeTable.id.dsMealType.mealType,
		dsDietMenuTimeTable.dsMenu.menuCode,
		dsDietMenuTimeTable.id.dsDietType.dietType,
		dsDietMenuTimeTable.id.dayNo,
		dsDietMenuTimeTable.effStatus
		from DsDietMenuTimeTable dsDietMenuTimeTable
		where dsDietMenuTimeTable.id.dsKitchens.id.operatingFacilityId like :operatingFacilityId 
		and dsDietMenuTimeTable.id.dsKitchens.id.kitchenCode like :kitchenCode
		and dsDietMenuTimeTable.id.dsDietType.dietType like :dietType
		and dsDietMenuTimeTable.id.dsMealClass.mealClass like :mealClass
		and dsDietMenuTimeTable.id.dsMealType.mealType like :mealType
		and dsDietMenuTimeTable.id.dayNo like :dayNo
		and dsDietMenuTimeTable.dsMenu.menuCode like :dsMenu
		and dsDietMenuTimeTable.effStatus like :status
    </query>
    
	<query name="ehis.DS.DS_WARDS_FOR_KITCHEN.masterQuery">
		select dsWardsForKitchen.id.kitchenCode,
		dsWardsForKitchen.id.wardCode,
		wards.shortDesc 
		from DsWardsForKitchen as dsWardsForKitchen , IpNursingUnit wards
		where dsWardsForKitchen.id.operatingFacilityId = wards.id.facilityId
		and dsWardsForKitchen.id.wardCode = wards.id.nursingUnitCode
		and upper(dsWardsForKitchen.id.kitchenCode) like upper(:kitchenCode)
		and upper(dsWardsForKitchen.id.operatingFacilityId) like upper(:operatingFacilityId)
		and upper(dsWardsForKitchen.id.wardCode) like upper(:wardCode)
	</query>

	<query name="ehis.DS.DS_PARAM_FOR_FACILITY.masterQuery">
		from DsParamForFacility facility
		where facility.operatingFacilityId =:operatingFacilityId
	</query>

	<query name="ehis.DS.DS_FEED_TYPE.masterQuery">
		from DsFeedType as dsFeedType 
		where upper(dsFeedType.feedType) like upper(:feedType) 
		and upper(dsFeedType.longDesc) like upper(:longDesc) 
		and upper(dsFeedType.shortDesc) like upper(:shortDesc) 
		and dsFeedType.effStatus like :status
	</query>

	<query name="ehis.DS.DS_COMPLAINTS.masterQuery">
		from DsComplaints as dsComplaints 
		where upper(dsComplaints.complaintCode) like upper(:complaintCode) 
		and upper(dsComplaints.longDesc) like upper(:longDesc) 
		and upper(dsComplaints.shortDesc) like upper(:shortDesc) 
		and dsComplaints.effStatus like :status
	</query>

	<query name="ehis.DS.DS_NUTRIENTS.masterQuery">
		select dsNutrients.nutrientsCode,
		dsNutrients.longDesc,
		dsNutrients.shortDesc,
		dsNutrients.amUom.uomCode,
		dsNutrients.effStatus 
		from DsNutrients as dsNutrients 
		where upper(dsNutrients.nutrientsCode) like upper(:nutrientsCode) 
		and upper(dsNutrients.longDesc) like upper(:longDesc) 
		and upper(dsNutrients.shortDesc) like upper(:shortDesc) 
		and upper(dsNutrients.amUom.uomCode) like upper(:amUom) 
		and dsNutrients.effStatus like :status
	</query>

	<query name="ehis.DS.DS_DELIVERY_INSTR.masterQuery">
		from DsDeliveryInstr as dsDeliveryInstr 
		where upper(dsDeliveryInstr.instrCode) like upper(:instrCode) 
		and upper(dsDeliveryInstr.longDesc) like upper(:longDesc) 
		and dsDeliveryInstr.effStatus like :status
	</query>

	<query name="ehis.DS.DS_PARAM.masterQuery">
		from DsParam 
	</query> 

	<query name="ehis.DS.FOOD_ITEM.masterQuery">
		from DsFoodItem
	</query>

	<query name="ehis.DS.DS_MENU.masterQuery">
		select menu.menuCode,
		menu.dsMealClass.shortDesc, 
		menu.longDesc,menu.shortDesc, 
		menu.dsMealType.shortDesc, 
		menu.dsDietType.shortDesc, 
		menu.effStatus,
		menu.effFromDate,
		menu.effToDate 
		from DsMenu as menu 
		where upper(menu.menuCode) like upper(:menuCode) 
		and upper(menu.longDesc) like upper(:longdesc) 
		and upper(menu.shortDesc) like upper(:shortdesc) 
		and upper(menu.dsMealClass.mealClass) like upper(:mealclass) 
		and upper(menu.dsMealType.mealType) like upper(:mealtype) 
		and upper(menu.dsDietType.dietType) like upper(:diettype) 
		and menu.effStatus like :status
	</query>

	<query name="ehis.DS.KITCHEN_AREA_TAB.masterQuery">
		select 
		area.id.kitchenAreaCode,
		area.longDesc,
		area.shortDesc,
		area.effStatus
		from DsKitchenArea area	
		where area.id.dsKitchens.id.operatingFacilityId  like :facilityId 
		and area.id.dsKitchens.id.kitchenCode like :kitchenCode 
	</query>

	<query name="ehis.DS.DS_KITCHENS.masterQuery">
		from DsKitchens dskitchens 
	</query>

<!--  Master Queries   *******************************   End Here -->

<!-- DS-TRANSACTION Queries   *******************************   START Here -->

	<query name="ehis.ds.kitchen.KitchenCode">
		select kitchen.id.kitchenCode,
		kitchen.id.shortDesc 
		from DsKitchensLangVw kitchen 
		where kitchen.id.operatingFacilityId like :facilityId 
		and kitchen.id.effStatus ='E'
		and kitchen.id.languageId= :language_Id
	</query>

	<query name="ehis.ds.repItem">
		select foodItem.id.foodItemCode, 
	  	   foodItem.id.shortDesc 
		from DsItems foodItem 
		where upper(foodItem.id.shortDesc) like upper(:description) 
		and upper(foodItem.id.foodItemCode) like upper(:code) 
		and foodItem.id.itemType like :item_type
		and foodItem.id.languageId = :language_Id
	</query>

	<query name="ehis.ds.diettype">
		select diettype.id.dietType,diettype.id.shortDesc 
		from DsDietTypeLangVw diettype 
		where diettype.id.effStatus='E'
		and   diettype.id.languageId = :language_Id
    </query>

	 <query name="ehis.ds.mealtype">
		select mealType.id.mealType,mealType.id.shortDesc 
		from DsMealTypeLangVw mealType 
		where mealType.id.effStatus ='E'
		and mealType.id.languageId = :language_Id
	</query>

	<query name="ehis.DS.DS_MODIFY_MEAL_PLAN.masterQuery">
		select plandtl.itemSl,
		plandtl.dsItemType.itemType,
		plandtl.id.itemCode,
		items.id.shortDesc,
		plandtl.itemQty, 
		plandtl.mealCategory,
		plandtl.patientClass,
		plandtl.id.dsEpsdMealPlanHdr.status
		from DsEpsdMealPlanDtl plandtl ,DsItems items
		where plandtl.id.itemCode = items.id.foodItemCode
		and plandtl.id.dsEpsdMealPlanHdr.id.prEncounter.id.smFacilityParam.facilityId like :facilityId 
		and to_char(plandtl.id.dsEpsdMealPlanHdr.id.servingDate,'dd/mm/yyyy') like :servingDate
		and plandtl.kitchenCode like :kitchenCode 
		and plandtl.id.dsEpsdMealPlanHdr.id.prEncounter.id.encounterId like :encounterId 
		and plandtl.id.dsEpsdMealPlanHdr.dsDietType.dietType like :dietType 
		and plandtl.id.dsEpsdMealPlanHdr.id.dsMealType.mealType like :mealType
		and items.id.languageId like :language_Id
	</query>
	
	<query name="ehis.ds.lookupDietCategary">
		select dsDietCategory.id.dietCategoryCode, 
		dsDietCategory.id.description 
		from DsDietCategoryLangVw dsDietCategory
		where dsDietCategory.id.languageId =:language_Id
	</query>

	<query name="ehis.ds.lookupFeedType">
		select dsFeedType.id.feedType, 
		dsFeedType.id.shortDesc 
		from DsFeedTypeLangVw dsFeedType 
		where dsFeedType.id.effStatus='E' 
		and dsFeedType.id.languageId=:language_Id
	</query>

<!--	<query name="ehis.ds.mealCategory.lookupDietType">
		select dtType.dietType,
		dtType.shortDesc
		from DsDietType dtType
		where dtType.effStatus ='E'
		and dtType.dsDietCategory.dietCategoryCode like :dietCategoryCode
		and dtType.amAgeGroup.ageGroupCode like :ageGroup 
	</query> -->
 
    <query name="ehis.ds.mealCategory.lookupDietType">
		select dtType.id.dietType,
		    dtType.id.shortDesc 
		from DsDietTypeLangVw dtType 
		where dtType.id.languageId= :language_Id
		and dtType.id.effStatus ='E' 
		and dtType.id.dietCategoryCode like :dietCategoryCode
		and dtType.id.ageGroupCode like :ageGroup
	</query>
	
	<query name="ehis.ds.placeDietOrder.ageGroup">
		select agegrp.ageGroupCode,agegrp.ageGroupCode 
		from AmAgeGroup agegrp 
		where nvl(agegrp.gender,:gender) = :gender 
		and :pat_age between agegrp.minAge and agegrp.maxAge 
		and agegrp.ageUnit = :ageUnit
	</query>

	<!-- <query name="ehis.ds.mealCategory.lookupNursingUnit"> -->
	<!--	select nursingUnit.id.nursingUnitCode,  -->
	<!--	nursingUnit.shortDesc -->
	<!--	from IpNursingUnit nursingUnit  -->
	<!--	where nursingUnit.effStatus='E' -->
	<!--	and nursingUnit.id.facilityId like :facilityId -->
	<!-- </query> -->

	<query name="ehis.ds.mealCategory.lookupNursingUnit">
		select nursingUnit.id.nursingUnitCode, 
		   nursingUnit.id.shortDesc
		from IpNursingUnitLangVw nursingUnit 
		where nursingUnit.id.languageId like :language_Id
		and nursingUnit.id.effStatus='E'
		and nursingUnit.id.facilityId like :facilityId
 	</query>
	
	<query name="ehis.ds.placeDietOrder.updatedDietTypes">
		select prfdtl.id.mealType, prfdtl.dietType 
		from DsEpsdDietProfileDtl prfdtl,DsMealType mType 
		where prfdtl.id.operatingFacilityId =:facilityId 
		and prfdtl.id.encounterId =:encounterID and prfdtl.id.profileSl=:profilesl
		and prfdtl.id.mealType = mType.mealType
		order by mType.mealOrder
	</query>

	<query name="ehis.ds.placeDietOrder.kaloriByFoodItem">
		select items.id.foodItemCode,items.id.calorificContPerUom,param.energyUom
		from DsItems items,DsParam param
		where items.id.foodItemCode =:fooditem
	</query>

	<query name="ehis.ds.mealtype.masterQuery">
		from DsMealType as dsMealType 
		where upper(dsMealType.mealType) like upper(:mealType) 
		and upper(dsMealType.longDesc) like upper(:longDesc) 
		and upper(dsMealType.shortDesc) like upper(:shortDesc) 
		and dsMealType.effStatus like :status
	</query>

	<query name="ehis.ds.placeDietOrder.masterQuery">
		select a.visitAdmDateTime,
		a.id.encounterId, 
		a.mpPatient.patientId, 
		m.patientName,
		m.sex,
		m.dateOfBirth,
		a.assignCareLocnType, 
		a.assignCareLocnCode,
		i.id.shortDesc,
		a.assignRoomNum,
		a.assignBedNum,
		a.amPatientClass.patientClass 
		from PrEncounter a, MpPatient m,MpEpisodeTypeVw v, IpNursingUnitLangVw i 
		where a.amPatientClass = v.id.patientClass and i.id.facilityId = a.id.smFacilityParam.facilityId 
		and i.id.nursingUnitCode = a.assignCareLocnCode 
		and i.id.languageId like :language_Id
		and a.dischargeDateTime is null and a.adtStatus !=	'9' and a.amPatientClass in ('IP','DC') 
		and a.cancelReasonCode is null 
		and a.deceasedDateTime is null 
		and a.id.smFacilityParam.facilityId like :facilityId
		and (trunc(a.visitAdmDateTime) between to_date(nvl(replace(:admDate||'%','%',''),'15/09/1947'),'dd/mm/yyyy')
		and to_date(nvl(replace(:admDate1||'%','%',''),'31/12/2999'),'dd/mm/yyyy'))
		and i.id.nursingUnitCode = replace(:nursingUnit,'%','')
		and a.id.encounterId like :enCounterID 
		and a.mpPatient.patientId like :patientId 
		and m.sex like :gender 
		and nvl(a.attendPractitionerId,'XX') like :practitioner 
		and a.mpPatient.patientId = m.patientId
			
	</query>
	

	<query name="ehis.ds.placeDietOrder.dietDeyRefNumber">
		select cycle.menuSchedCycleDays,cycle.menuSchedCycleDays from DsDietMenuSchedCycle cycle where cycle.id.operatingFacilityId=:facility and cycle.id.dsDietType.dietType=:dietType and cycle.id.dsMealClass.mealClass=:mealClass and cycle.effStatus='E'
	</query>

<!--   DS-TRANSACTION Queries   *******************************   End Here -->

	<query name="ehis.ds.placeDietOrder.servingUomCode">
		select items.id.servingUomCode,
		items.id.servingUomCode
		from DsItems items
		where items.id.foodItemCode =:foodItemCode
	</query>

	<!-- <query name="ehis.ds.itemType.ApplDietCategory"> -->
	<!--	select dietCat.dietCategoryCode,dietCat.description from DsDietCategory dietCat -->
	<!-- </query> -->

	<query name="ehis.ds.itemType.ApplDietCategory">
		select dietCat.id.dietCategoryCode,dietCat.id.description 
		from DsDietCategoryLangVw dietCat
		where dietCat.id.languageId  like :language_Id
	</query>
	
	<query name="ehis.ds.mealType.mealOrder">
		select mealType.mealType,mealType.mealOrder from DsMealType as mealType
	</query>

	<query name="ehis.ds.mealCategory.getNursingQuery">
		from DsNursingUnitForDfltAtten dsNursingUnitForDfltAtten 
		where dsNursingUnitForDfltAtten.id.facilityId =:facilityId 
		and dsNursingUnitForDfltAtten.id.mealCategoryCode =:mealCategoryCode
	</query>

	<query name="ehis.am.uom.lookupUOM">
		select uom.id.uomCode,
		uom.id.shortDesc 
		from AmUomLangVw uom
		where uom.id.languageId = :language_Id
		and   uom.id.effStatus ='E'
	</query>

	<query name="ehis.ds.itemType.lookupItemType">
	   select itmType.id.itemType ,
	          itmType.id.shortDesc 
	   from DsItemTypeLangVw itmType 
	   where itmType.id.languageId = :language_Id
	   and   itmType.id.effStatus ='E'
	</query>

	<query name="ehis.ds.commFoodItem.lookupCrossRefItemType">
		select itmType.itemCode , 
		itmType.shortDesc 
		from MmItem itmType
		where itmType.effStatus ='E'
	</query>

	<query name="ehis.ds.nutrients.lookupNutrients">
		select nutrients.id.nutrientsCode,
			nutrients.id.shortDesc 
		from DsNutrientsLangVw nutrients 
		where upper(nutrients.id.shortDesc) like upper(:description) 
		and upper(nutrients.id.nutrientsCode) like upper(:code) 
		and nutrients.id.languageId = :language_Id
		and  nutrients.id.effStatus ='E'
	</query>

	<query name="ehis.ds.nutrients.popNutrients">
		select nutrients.id.nutrientsCode,
			nutrients.id.shortDesc 
		from DsNutrientsLangVw nutrients 
		where nutrients.id.languageId = :language_Id
		and  nutrients.id.effStatus ='E'
	</query>

	<query name="ehis.ds.foodItem.lookupNutrients">
		select nutrients.id.nutrientsCode,
		nutrients.id.shortDesc 
		from DsNutrientsLangVw nutrients 
		where upper(nutrients.id.shortDesc) like upper(:description) 
		and upper(nutrients.id.nutrientsCode) like upper(:code) 
		and nutrients.id.languageId = :language_Id
		and  nutrients.id.effStatus ='E'
	</query>

	<query name="ehis.ds.lookupInventory">
		select dsParamFac.operatingFacilityId, 
		dsParamFac.inventoryInterfaceYn 
		from DsParamForFacility dsParamFac
	</query>
	
	<!-- <query name="ehis.ds.mealCategory.lookupMealClass"> -->
	<!--	select meelClass.mealClass, -->
	<!--	meelClass.shortDesc -->
	<!--	from DsMealClass meelClass -->
	<!--	where meelClass.effStatus ='E' -->
	<!--	</query> -->

	<query name="ehis.ds.mealCategory.lookupMealClass">
		select meelClass.id.mealClass,
		       meelClass.id.shortDesc 
		from DsMealClassLangVw meelClass 
		where meelClass.id.languageId like :language_Id
		and meelClass.id.effStatus ='E'
	</query>
	<query name="ehis.ds.mealCategory.lookupMealCategory">
		select mealCategory.id.mealCategoryCode, 
		mealCategory.id.description
		from DsMealCategoryLangVw mealCategory
	</query>

	<query name="ehis.ds.recipe.lookupFoodItemContent">
		select foodItem.prepBaseQty,
		foodItem.amUomByPrepUom.uomCode 
		from DsFoodItem foodItem 
		where foodItem.foodItemCode like :code
	</query>

	<query name="ehis.ds.recipe.lookupIngredientContent">
		select ingredient.amUom.uomCode ,
		ingredient.ingredientCode		
		from DsIngredient ingredient 
		where ingredient.ingredientCode like :code
	</query>

	<query name="ehis.ds.recipe.ingredientCode">
		select ingredient.ingredientCode, 
		ingredient.shortDesc 
		from DsIngredient ingredient 
		where ingredient.effStatus = 'E'
	</query>

	<query name="ehis.ds.lookupFoodItem">
		select foodItem.id.foodItemCode, 
		foodItem.id.shortDesc 
		from DsItems	foodItem 
		where foodItem.id.itemType =:item_type 
		and upper(foodItem.id.shortDesc) like upper(:description) 
		and upper(foodItem.id.foodItemCode) like upper(:code) 
		and foodItem.id.effStatus ='E'
		and foodItem.id.languageId like :language_Id
	</query>

	<query name="ehis.ds.palcedietorder.feedType">
	select dietType.dsFeedType.feedType,dietType.dsFeedType.shortDesc  
	from DsDietType dietType,DsFeedTypeLangVw feedlang
	where  dietType.dsFeedType.feedType = feedlang.id.feedType
	and    dietType.dietType =:dietType
	and    feedlang.id.languageId = :language_Id
	</query>
	
	<query name="ehis.ds.palcedietorder.orderTypeCode">
	select dietcategory.orderTypeCode
from DsDietCategory dietcategory
where dietcategory.dietCategoryCode=:dietcategory
	</query>
	
	<!--	 Entries for LookUp - RDAChart Function 	-->
	
	<query name="ehis.ds.rdachart.RDAChart">
		select ageGrp.ageGroupCode,ageGrp.shortDesc from AmAgeGroup ageGrp where ageGrp.effStatus ='E'
	</query>

	<!--	 Entries for LookUp - Ingredients Function 	-->

	<query name="ehis.ds.ingredients.ItemCode">
		select mmItem.itemCode,mmItem.shortDesc from MmItem mmItem Where mmItem.effStatus ='E'
	</query>
	
	<query name="ehis.ds.ingredients.StockUOM">
		select amUom.id.uomCode,amUom.id.shortDesc 
		from AmUomLangVw amUom 
		where amUom.id.languageId = :language_Id
		and   amUom.id.stockUomYn ='Y' 
		and amUom.id.effStatus ='E'
	</query>

	<!--  Entries for LookUp - DietType Function	-->

	<!-- <query name="ehis.ds.dietType.AgeGroup"> -->
		<!-- select ageGrp.ageGroupCode,ageGrp.shortDesc from AmAgeGroupLangVw ageGrp where -->
		<!-- ageGrp.effStatus ='E' -->
	<!-- </query> -->

	<query name="ehis.ds.dietType.AgeGroup">
		select ageGrp.id.ageGroupCode,ageGrp.id.shortDesc 
		from AmAgeGroupLangVw ageGrp 
		where ageGrp.id.languageId = :language_Id
		and   ageGrp.id.effStatus ='E'
	</query>
	<query name="ehis.ds.dietType.FeedType">
		select feedTyp.id.feedType,feedTyp.id.shortDesc 
		from DsFeedTypeLangVw feedTyp 
		where feedTyp.id.languageId = :language_Id 
		and feedTyp.id.effStatus ='E'
	</query>
	
	<query name="ehis.ds.dietType.DietCategory">
		select dietCategory.id.dietCategoryCode,
		dietCategory.id.description 
		from DsDietCategoryLangVw  dietCategory
		where dietCategory.id.languageId = :language_Id
	</query>
	
	<!-- <query name="ehis.ds.lookup.OrderCatalogCode">  -->
	<!--	select catalog.orderCatalogCode,catalog.shortDesc -->
	<!--	from  OrOrderCatalog catalog  -->
	<!--	where catalog.orOrderCategory.orderCategory ='DS' -->
	<!--	and upper(catalog.shortDesc) like upper(:description) -->
	<!--	and upper(catalog.orderCatalogCode) like upper(:code) -->
	<!--	and catalog.contrModId is null -->
	<!--	and catalog.contrMsrPanelId is null -->
	<!--	and catalog.effStatus ='E' -->
	<!-- </query>	-->
		
	 <!-- <query name="ehis.ds.lookup.OrderCatalogCode"> 
		select catalog.id.orderCatalogCode, 
		catalog.id.shortDesc
		from OrOrderCatalogLangVw catalog
		where catalog.id.orderCategory ='DS'
		and  catalog.id.languageId like :language_Id
		and upper(catalog.id.shortDesc) like upper(:description)
		and upper(catalog.id.orderCatalogCode) like upper(:code)
	 	and catalog.id.contrModId is null
		and catalog.id.contrMsrPanelId is null
		and catalog.id.effStatus ='E'
	 </query> 	-->
	 
	 <query name="ehis.ds.lookup.OrderCatalogCode"> 
		select catalog.id.orderCatalogCode, 
		catalog.id.shortDesc
		from OrOrderCatalogLangVw catalog
		where catalog.id.orderCategory ='DS'
		and  catalog.id.languageId like :language_Id
		and upper(catalog.id.shortDesc) like upper(:description)
		and upper(catalog.id.orderCatalogCode) like upper(:code)
	 	and catalog.id.contrModId is null
		and catalog.id.contrMsrPanelId is null
		and catalog.id.effStatus ='E'
		order by catalog.id.effStatus
	 </query>
	 

	<query name="ehis.ds.queryCriteria.OrderCatalogCode">
		select catalog.id.orderCatalogCode,catalog.id.shortDesc from  OrOrderCatalogLangVw catalog 
		where catalog.id.orderCategory ='DS'
		and  catalog.id.languageId like :language_Id
		and catalog.id.contrModId is not null
		and catalog.id.contrMsrPanelId is not null
		and catalog.id.effStatus ='E'
	</query>

	<!--  Entries for DWR Request - DietType Function	-->

	<query name="ehis.ds.dwr.OrderCatalogCode">
		select orderCatalog.id.shortDesc,
		orderCatalog.id.orderCatalogCode 
		from OrOrderCatalogLangVw orderCatalog	
		where orderCatalog.id.orderCatalogCode = :orderCatalogCode
		and   orderCatalog.id.languageId like :language_Id
	</query>

	<query name="ehis.ds.foodItemForKitchenArea">
		select area.id.kitchenAreaCode,
		area.shortDesc
		from DsKitchenArea area	
		where area.id.dsKitchens.id.operatingFacilityId like :facilityId 
		and area.id.dsKitchens.id.kitchenCode like :kitchenCode  
		and area.effStatus ='E'
	</query>

	<query name="ehis.DS.DS_KITCHEN_AREA_ITEMS.masterQuery">
		select item.id.dsKitchenArea.id.dsKitchens.shortDesc,
		item.id.dsKitchenArea.shortDesc,
		mastItem.id.shortDesc
		from DsKitchenAreaItems item,DsItems mastItem 
		where item.id.dsFoodItem.foodItemCode = mastItem.id.foodItemCode 
		and item.id.dsKitchenArea.id.dsKitchens.id.operatingFacilityId like :operatingFacilityId 
		and item.id.dsKitchenArea.id.dsKitchens.id.kitchenCode like :kitchenCode 
		and item.id.dsKitchenArea.id.kitchenAreaCode like :kitchenAreaCode
	</query>
<!--
	<query name="ehis.DS.DS_KITCHEN_AREA_ITEMS_POPULATION.masterQuery">
	   select item.id.dsFoodItem.foodItemCode,
	   mastItem.id.shortDesc 
	   from DsKitchenAreaItems item,DsItems mastItem 
	   where item.id.dsFoodItem.foodItemCode = mastItem.id.foodItemCode 
	   and item.id.dsKitchenArea.id.dsKitchens.id.operatingFacilityId like :facilityId
	   and item.id.dsKitchenArea.id.dsKitchens.id.kitchenCode like :kitchenCode 
	   and item.id.dsKitchenArea.id.kitchenAreaCode like :kitchenAreaCode
	</query>
-->
	<query name="ehis.DS.DS_KITCHEN_AREA_ITEMS_POPULATION.masterQuery">
		select item.id.dsFoodItem.foodItemCode, mastItem.id.shortDesc 
		from DsKitchenAreaItems item,DsItems mastItem 
		where item.id.dsFoodItem.foodItemCode = mastItem.id.foodItemCode 
		and item.id.dsKitchenArea.id.dsKitchens.id.operatingFacilityId like :facilityId
		and item.id.dsKitchenArea.id.dsKitchens.id.kitchenCode like :kitchenCode 
		and item.id.dsKitchenArea.id.kitchenAreaCode like :kitchenAreaCode
		and mastItem.id.languageId  like :language_Id
	</query>

<!--  Entries for  FoodItem Function	-->

	<query name="ehis.ds.foodItem.FoodItemCode">
		select foodItem.id.foodItemCode, 
		      foodItem.id.shortDesc 
		from DsFoodItemLangVw foodItem 
		where foodItem.id.languageId = :language_Id
		and upper(foodItem.id.shortDesc) like upper(:description)
		and upper(foodItem.id.foodItemCode) like upper(:code)
		and foodItem.id.effStatus ='E'
	</query>

	<query name="ehis.ds.commFormula">
		select commFormula.id.commFormulaCode,
		commFormula.id.shortDesc 
		from DsCommFormulaLangVw commFormula 
		where commFormula.id.languageId = :language_Id
		and  upper(commFormula.id.shortDesc) like upper(:description) 
		and upper(commFormula.id.commFormulaCode) like upper(:code) 
		and commFormula.id.effStatus ='E'
	</query>

	<query name="ehis.ds.menuItems">
		select dsitem.id.foodItemCode, 
		dsitem.id.shortDesc 
		from DsItems dsitem 
		where dsitem.id.itemType like :item_type 
		and upper(dsitem.id.shortDesc) like upper(:description) 
		and upper(dsitem.id.foodItemCode) like upper(:code)
		and dsitem.id.effStatus ='E'
	</query>
	
	<!-- ***********************************  -->

	<query name="ehis.ds.lookupCommercialFoodItem">
		select dsCommFormula.commFormulaCode, 
		dsCommFormula.shortDesc 
		from DsCommFormula dsCommFormula 
		where dsCommFormula.effStatus ='E'
	</query>

	<query name="ehis.ds.lookupIngredient">
		select ingredient.ingredientCode,
		ingredient.shortDesc 
		from DsIngredient ingredient 
		where ingredient.effStatus ='E'
	</query>

	<query name="ehis.ds.nutrients.param">
		select uom.shortDesc,
		param.energyUom 
		from DsParam param, AmUom uom 
		where param.energyUom = uom.uomCode
	</query>
	
	<query name="ehis.ds.dietcycle.diettype">
		select diettype.id.dietType,diettype.id.shortDesc
		from DsDietTypeLangVw as diettype 
		where diettype.id.effStatus='E'
		and diettype.id.languageId like :language_Id
    </query>
    
    <query name="ehis.ds.dietcycle.getmealclass">
		select mealclass.id.mealClass,
		mealclass.id.shortDesc 
		from DsMealClassLangVw as mealclass 
		where mealclass.id.languageId= :language_Id 
		and mealclass.id.effStatus='E'
    </query>
    
    <query name="ehis.ds.diettimetable.getmealtype">
		select mealType.id.mealType,mealType.id.shortDesc 
		from DsMealTypeLangVw as mealType 
		where mealType.id.effStatus ='E'
		and mealType.id.languageId like :language_Id
    </query>
    
    <query name="ehis.ds.diettimetable.getdayNo">
		select cycle.menuSchedCycleDays,
		cycle.mealPlanRefDayNo 
		from DsDietMenuSchedCycle as cycle 
		where upper(cycle.id.operatingFacilityId) like upper(:operatingFacilityId)
		and upper(cycle.id.dsMealClass.mealClass) like upper(:mealClass)
		and upper(cycle.id.dsDietType.dietType) like upper(:dietType)
    </query>
    
     <query name="ehis.ds.diettimetable.getmenu">
		select menu.id.menuCode,menu.id.shortDesc from DsMenuLangVw as menu 
		where menu.id.languageId= :language_Id and menu.id.effStatus='E'
    </query>
	
	<query name="ehis.ds.dietTimeTable.qryMenuCode">
		select menutimeTable.dsMenu.menuCode,menutimeTable.dsMenu.menuCode
		from DsDietMenuTimeTable menutimeTable
		where menutimeTable.id.dsKitchens.id.operatingFacilityId =:facilityId
		and menutimeTable.id.dsKitchens.id.kitchenCode = :kitchenCode
		and menutimeTable.id.dsDietType.dietType = :dietType
		and menutimeTable.id.dsMealClass.mealClass = :mealClass
		and menutimeTable.id.dsMealType.mealType = :mealType
		and menutimeTable.id.dayNo = :dayno
	</query >

	<query name="ehis.ds.diettimetable.getspecmenu">
		select menu.shortDesc,menu.menuCode
		from DsMenu as menu 
		where nvl(menu.dsDietType.dietType,:dietType) like :dietType 
		and  nvl(menu.dsMealClass.mealClass,:mealclass) like :mealclass
		and  nvl(menu.dsMealType.mealType,:mealType) like :mealType
		and menu.effStatus='E'
	</query>

	<query name="ehis.ds.dsparameterforthefacility.kitchen">
		select kitchen.id.kitchenCode,
		kitchen.id.shortDesc 
		from DsKitchensLangVw as kitchen 
		where kitchen.id.operatingFacilityId like :facilityId 
		and   kitchen.id.languageId = :language_Id
		and   kitchen.id.effStatus ='E' 
	</query>
	
	<query name="ehis.ds.diettimetable.repcommformula">
		select commFormula.id.commFormulaCode,
		commFormula.id.shortDesc 
		from DsCommFormulaLangVw commFormula 
		where commFormula.id.languageId = :language_Id
		and  upper(commFormula.id.shortDesc) like upper(:description) 
		and upper(commFormula.id.commFormulaCode) like upper(:code) 
		and commFormula.id.effStatus ='E'
    </query>


	<query name="ehis.ds.dsparameterforthefacility.storeCode">
		select mmStore.storeCode,mmStore.shortDesc 
		from MmStore as mmStore 
		where mmStore.effStatus ='E' 
	</query>

	<query name="ehis.ds.wardsforkitchen.masterQuery">
		select kitwards.id.nursingUnitCode,
		kitwards.id.shortDesc,
       	kitwards.id.linkedYn 
		from DsWardsKitchenVw kitwards
		where kitwards.id.operatingFacilityId like :operatingFacilityId
		and  nvl(kitwards.id.kitchenCode,'!!') in(:kitchenCode,'!!')
	</query>

	<query name="ehis.ds.wardsforkitchen.wardQuery">
		select kitwards.id.nursingUnitCode,
		kitwards.id.shortDesc,
       	kitwards.id.linkedYn 
		from DsWardsKitchenVw kitwards
		where kitwards.id.operatingFacilityId like :facilityId
		and  nvl(kitwards.id.kitchenCode,'!!') in(:kitchenCode,'!!')
	</query>

	<query name="ehis.ds.wardsforkitchen.dataforKitchen">
		from DsWardsForKitchen as dsWardsForKitchen 
		where upper(dsWardsForKitchen.id.kitchenCode) like upper(:kitchenCode)
		and upper(dsWardsForKitchen.id.operatingFacilityId) like upper(:operatingFacilityId) 
		and upper(dsWardsForKitchen.id.wardCode) like upper(:wardCode)
	</query>
	
	<query name="ehis.ds.wardsforkitchen.KitchenCode">
		select kitchen.id.kitchenCode,
		       kitchen.id.shortDesc 
		from DsKitchensLangVw as kitchen 
		where kitchen.id.languageId like :language_Id
		and   kitchen.id.effStatus ='E' 
	</query>
	
	<query name="ehis.ds.wardsforkitchen.wardCode">
		select ip_ward.id.nursingUnitCode, ip_ward.id.shortDesc 
		from IpNursingUnitLangVw as ip_ward 
		where ip_ward.id.effStatus ='E' 
		and ip_ward.id.facilityId like :facilityId
		and ip_ward.id.languageId like :language_Id
	</query>
	
	 <query name="ehis.ds.wardsforkitchen.getRec">
		select dsWardsForKitchen.id.wardCode,
		dsWardsForKitchen.id.kitchenCode 
		from DsWardsForKitchen as dsWardsForKitchen 
		where upper(dsWardsForKitchen.id.kitchenCode) like upper(:kitchenCode)
	</query> 
	
	<query name="ehis.ds.wardsforkitchen.allwardCode">
		select ip_ward.id.nursingUnitCode ,ip_ward.shortDesc
		from IpNursingUnit as ip_ward where ip_ward.effStatus ='E' 
		and ip_ward.id.facilityId like :facilityId
	</query>

	<query name="ehis.ds.dsparameteracrossthefacility.deptCode">
		select amDept.deptCode,amDept.shortDesc 
		from AmDept as amDept 
		where amDept.effStatus ='E' 
	</query>

	<query name="ehis.ds.dsparameteracrossthefacility.energyUom">
		select amUom.uomCode,amUom.shortDesc from AmUom as amUom where amUom.effStatus ='E' 
	</query>

	<query name="ehis.ds.menu.dietType">
		select dietType.id.shortDesc,dietType.id.dietType 
		from DsDietTypeLangVw dietType 
		where dietType.id.languageId= :language_Id
		and   dietType.id.effStatus='E'
	</query>

	<query name="ehis.ds.menu.mealType">
		select mealType.id.shortDesc,mealType.id.mealType from DsMealTypeLangVw mealType 
		where mealType.id.languageId = :language_Id and  mealType.id.effStatus='E'
	</query>

	<query name="ehis.ds.menu.mealClass">
		Select mealClass.id.shortDesc,mealClass.id.mealClass 
		from DsMealClassLangVw mealClass 
		where mealClass.id.effStatus='E'
		and   mealClass.id.languageId =:language_Id
	</query>

	<query name="ehis.ds.menu.itemType">
		select itemType.id.itemType,itemType.id.shortDesc from DsItemTypeLangVw itemType where itemType.id.languageId= :language_Id and itemType.id.effStatus='E'
	</query>

	<query name="ehis.ds.menu.itemSlrSelected">
		select menuItem.id.itemSl,menuItem.id.menuCode from DsMenuItem menuItem where menuItem.id.menuCode = :menu_Code and menuItem.id.itemSl = :itemSl
	</query>

	<query name="ehis.ds.kitchenArea.KitchenAreaCode">
		select area.id.kitchenAreaCode,
		area.shortDesc 
		from DsKitchenArea area	
		where area.id.dsKitchens.id.operatingFacilityId like :operatingFacilityId  
		and area.effStatus ='E'
	</query>

	<query name="ehis.ds.dsparameterforthefacility.KitchenAreaCode">
		select area.id.kitchenAreaCode,area.shortDesc
		from DsKitchenArea area	
		where area.id.dsKitchens.id.operatingFacilityId like :operatingFacilityId
		and area.id.dsKitchens.id.kitchenCode like :kitchenCode 
		and area.effStatus = 'E'
	</query>

	<query name="ehis.ds.repCommFormulaList.KitchenAreaCode">
		select area.id.shortDesc,area.id.kitchenAreaCode
		from DsKitchenAreaLangVw area	
		where area.id.operatingFacilityId like :operatingFacilityId
		and area.id.kitchenCode like :kitchenCode
		and area.id.languageId like :language_Id
		and area.id.effStatus = 'E'
	</query>

	<query name="ehis.ds.menu.itemSlrList">
		select menuItem.id.itemSl,
		itemType.id.shortDesc,
		menuItem.itemType,
		menuItem.id.itemCode,
		items.id.shortDesc,
		menuItem.itemQty 
		from DsMenuItem menuItem ,DsItemTypeLangVw itemType,DsItems items 
		where menuItem.itemType      = itemType.id.itemType 
		and menuItem.id.itemCode     = items.id.foodItemCode
		and  menuItem.id.menuCode    = :menu_Code
		and  items.id.languageId     = :language_Id
		and  itemType.id.languageId  = :language_Id
	</query>

	<query name="ehis.DS.DS_DIET_CATEGORY.masterQuery">
		from DsDietCategory as dsDietCategory where
		upper(dsDietCategory.dietCategoryCode) like upper(:dietCategoryCode)
		and upper(dsDietCategory.description) like upper(:description) 
		and upper(NVL(dsDietCategory.orderTypeCode,'@@')) like upper(:orderTypeCode) 
	</query>
	
	<query name="ehis.ds.orderTypeCode">
		select dietCategory.dietCategoryCode, 
		dietCategory.orderTypeCode 
		from DsDietCategory dietCategory
	</query>

	<!-- <query name="ehis.ds.dietCategory.getOrder"> -->
	<!--	select orOrderType.orderTypeCode,orOrderType.shortDesc -->
	<!--	from OrOrderType as orOrderType where -->
	<!--	orOrderType.orOrderCategory ='DS' -->
	<!--	and orOrderType.effStatus ='E' -->
	<!-- </query> -->

	<query name="ehis.ds.dietCategory.getOrder">
	select orOrderType.id.orderTypeCode,orOrderType.id.shortDesc
	from OrOrderTypeLangVw as orOrderType 
	where orOrderType.id.orderCategory ='DS'
	and   orOrderType.id.languageId like :language_Id
	and orOrderType.id.effStatus ='E'
	</query>

	<query name="ehis.ds.commercialfoodItem.masterQuery">
		from DsCommFormula commFormula where commFormula.commFormulaCode like :commFoodItem and commFormula.longDesc like :longDesc and commFormula.shortDesc like :shortDesc and commFormula.amUomByServingUomCode.shortDesc like :uomdesc
	</query>

	<query name="ehis.ds.recipe.masterQuery">
		from DsFoodItemIngredients foodItemIngredients where foodItemIngredients.id.dsFoodItem.foodItemCode like :foodItemCode and foodItemIngredients.id.dsIngredient.ingredientCode like :ingredientCode
	</query>

	<query name="ehis.ds.lookupAmPractitione">
		select practitioner.practitionerId, 
		practitioner.shortName 
		from	AmPractitioner practitioner 
		where practitioner.amPractType.practType in ('MD','SG','PS','DN','DT','AN') 
		and practitioner.effStatus ='E'
		and upper(practitioner.practitionerId) like upper(:code)
		and upper(practitioner.shortName) like upper(:description)
	</query>

	<query name="ehis.ds.lookupMenuTimeTable">
		select menuTimeTable.id.dsMealType.mealType, 
		mealType.id.shortDesc 
		from DsDietMenuTimeTable menuTimeTable,DsMealTypeLangVw mealType
		where menuTimeTable.id.dsMealType.mealType = mealType.id.mealType
		and mealType.id.languageId like :language_Id
	</query>
	
	<query name="ehis.ds.lookupDsWardsForKitchen">
		select wardkitchen.id.wardCode, 
		wardkitchen.id.kitchenCode 
		from DsWardsForKitchen wardkitchen 
		where wardkitchen.id.operatingFacilityId =:facility 
		and wardkitchen.id.wardCode =:nursing_unit
	</query>

	<query name="ehis.ds.lookupMenuCode">
		select menutimetable.dsMenu.shortDesc, menutimetable.dsMenu.menuCode 
		from DsDietMenuTimeTable menutimetable 
		where menutimetable.id.dsKitchens.id.operatingFacilityId =:facilityId 
		and menutimetable.id.dsKitchens.id.kitchenCode =:kitchenCode 
		and menutimetable.id.dsDietType.dietType =:diettype 
		and menutimetable.id.dsMealClass.mealClass =:mealclass 
		and menutimetable.id.dayNo=:dayno
	</query>

<!-- for 5.1
	<query name="ehis.ds.lookupMenuCode">
		select menutimetable.dsMenu.shortDesc,
		menutimetable.dsMenu.menuCode 
		from DsDietMenuTimeTable menutimetable 
		where menutimetable.id.dsKitchens.id.operatingFacilityId =:facilityId 
		and menutimetable.id.dsKitchens.id.kitchenCode =:kitchenCode 
		and menutimetable.id.dsDietType.dietType =:diettype
		and menutimetable.id.dsMealType.mealType =:mealtype
		and menutimetable.id.dsMealClass.mealClass =:mealclass 
		and menutimetable.id.dayNo=:dayno
		order by menutimetable.id.dsMealType.mealOrder
    </query>
-->
<!--EarlierQuery
	<query name="ehis.ds.lookupMenuCode">
		select menutimetable.dsMenu.shortDesc, menutimetable.dsMenu.menuCode from DsDietMenuTimeTable menutimetable where menutimetable.id.dsKitchens.id.operatingFacilityId =:facilityId 
		and menutimetable.id.dsKitchens.id.kitchenCode =:kitchenCode 
		and menutimetable.id.dsDietType.dietType =:diettype 
		and menutimetable.id.dsMealClass.mealClass =:mealclass 
		and menutimetable.id.dayNo=:dayno
	</query>
-->
	<!--EarlierQuery
	<query name="ehis.ds.placeDietOrder.getMenuItems">
		select menu.dsMealType.mealType,menu.dsMealType.shortDesc, menuitem.id.dsFoodItem.foodItemCode, menuitem.id.dsFoodItem.shortDesc, menuitem.itemQty , menuitem.id.dsFoodItem.dsItemType.itemType from DsMenuItem menuitem ,DsMenu menu where menuitem.id.menuCode =menu.menuCode and menuitem.id.menuCode =:menucode
	</query>-->
<!-- Earler query for 10.2 -->

	<query name="ehis.ds.placeDietOrder.getMenuItems">
		select menu.id.mealType,
		mealType.id.shortDesc,
		menuitem.id.itemCode, 
		items.id.shortDesc,
		menuitem.itemQty ,
		menuitem.itemType,
		items.id.servingUomCode,
		items.id.calorificContPerUom,
		param.energyUom
		from DsMenuItem menuitem ,DsMenuLangVw menu ,DsItems items ,DsParam param,
		DsMealTypeLangVw mealType
		where menu.id.mealType = mealType.id.mealType
		and  menu.id.languageId = mealType.id.languageId
		and menuitem.id.itemCode = items.id.foodItemCode 
		and menuitem.id.menuCode =menu.id.menuCode 
		and menuitem.id.menuCode =:menucode
		and menu.id.languageId like :language_Id
		and items.id.languageId like :language_Id
	</query>

<!-- Earler query for 5.1 

	<query name="ehis.ds.placeDietOrder.getMenuItems">
		select menutimetable.id.dsMealType.mealType,
		mealType.id.shortDesc,
		menuitem.id.itemCode, 
		items.id.shortDesc,
		menuitem.itemQty ,
		menuitem.itemType, items.id.servingUomCode,
		items.id.calorificContPerUom,param.energyUom
		from DsMenuItem menuitem ,DsMenu menu ,DsItems items,DsParam param,
			 DsDietMenuTimeTable menutimetable ,DsMealTypeLangVw mealType
		where menuitem.id.itemCode = items.id.foodItemCode 
		and menuitem.id.menuCode =menu.menuCode 
		and menutimetable.id.dsKitchens.id.operatingFacilityId =:facilityId
		and menutimetable.dsMenu.menuCode = menu.menuCode
		and menuitem.id.menuCode =:menucode
		and menutimetable.id.dsKitchens.id.kitchenCode = :kitchenCode
		and menutimetable.id.dsDietType.dietType = :diettype
		and menutimetable.id.dsMealType.mealType =:mealtype 
		and menutimetable.id.dsMealClass.mealClass = :mealclass
		and menutimetable.id.dayNo = :dayno
		and items.id.languageId =  mealType.id.languageId
		and menutimetable.id.dsMealType.mealType = mealType.id.mealType
		and items.id.languageId = :language_Id
	</query>

	-->
<!--
	<query name="ehis.ds.placeDietOrder.getMenuItems">
		select menu.id.mealType,
		mealType.id.shortDesc,
		menuitem.id.itemCode, 
		items.id.shortDesc,
		menuitem.itemQty ,
		menuitem.itemType, items.id.servingUomCode
		from DsMenuItem menuitem ,DsMenuLangVw menu ,DsItems items ,
		DsMealTypeLangVw mealType
		where menu.id.mealType = mealType.id.mealType
		and  menu.id.languageId = mealType.id.languageId
		and menuitem.id.itemCode = items.id.foodItemCode 
		and menuitem.id.menuCode =menu.id.menuCode 
		and menuitem.id.menuCode =:menucode
		and menu.id.languageId like :language_Id
		and items.id.languageId like :language_Id
	</query>
-->
	<query name="ehis.ds.lookupDefaultDietType">
		select mealcate.defaultDietType, 
		mealcate.defaultMealClass 
		from DsMealCategory mealcate 
		where mealcate.mealCategoryCode =:category_code
	</query>
	
	<query name="ehis.ds.lookupDietCycleType">
		select dietType.dietType, dietType.dietCycleType from DsDietType dietType
	</query>

	<query name="ehis.ds.lookupFoodItemCode">
		select item.id.foodItemCode,
		item.id.shortDesc 
		from DsItems item 
		where item.id.effStatus ='E' 
		and upper(item.id.foodItemCode) like upper(:code)
		and upper(item.id.shortDesc) like upper(:description)
		and item.id.languageId like :language_Id 
	</query>

	<query name="ehis.ds.lookupItemType">
		select itemType.id.shortDesc,
		itemType.id.itemType 
		from DsItemTypeLangVw itemType 
		where itemType.id.effStatus = 'E' 
		and itemType.id.languageId=:language_Id
	</query>

	<query name="ehis.ds.lookupMealType">
		select mealType.id.shortDesc,mealType.id.mealType 
		from DsMealTypeLangVw mealType 
		where mealType.id.effStatus ='E' 
		and mealType.id.languageId=:language_Id
	</query>
<!-- for 10.2  -->
	<query name="ehis.ds.placeDietOrder.MealMenuQuery">
		select profilerhdr.dsDietCategory.dietCategoryCode,
		profilerhdr.dsMealClass.mealClass,
		profilerhdr.dsFeedType.feedType,
		profilerhdr.dsDietType.dietType,
		profilerhdr.dietaryRemarks,
		profilerhdr.dsDeliveryInstr.instrCode,
		profilerhdr.patientClass,
		profilerhdr.id.prEncounter.id.encounterId,
		profilerhdr.id.profileSl,
		profilerhdr.periodFrom,
		profilerhdr.periodTo,
		to_char(sysdate,'dd/mm/yyyy'),
		profilerhdr.status,
		profilerhdr.orderId,
		profilerhdr.nilByMouthFrm,
		profilerhdr.nilByMouthTo,
		profilerhdr.orOrderType.orderTypeCode,
		profilerhdr.orderId,
		profilerhdr.prepInstr
		from DsEpsdDietProfileHdr profilerhdr
		where profilerhdr.id.prEncounter.id.smFacilityParam.facilityId =:FacilityId
		and profilerhdr.id.prEncounter.id.encounterId =:encounterId
	</query>


<!-- for 5.1 
	<query name="ehis.ds.placeDietOrder.MealMenuQuery">
		select profilerhdr.dsDietCategory.dietCategoryCode,
		profilerhdr.dsMealClass.mealClass,
		profilerhdr.dsFeedType.feedType,
		profilerhdr.dsDietType.dietType,
		profilerhdr.dietaryRemarks,
		profilerhdr.dsDeliveryInstr.instrCode,
		profilerhdr.patientClass,
		profilerhdr.id.prEncounter.id.encounterId,
		profilerhdr.id.profileSl,
		profilerhdr.periodFrom,
		profilerhdr.periodTo,
		to_char(sysdate,'dd/mm/yyyy'),
		profilerhdr.status,
		profilerhdr.orderId,
		profilerhdr.nilByMouthFrm,
		profilerhdr.nilByMouthTo,
		profilerhdr.orOrderType.orderTypeCode,
		profilerhdr.orderId,
		profilerhdr.addedById,
		profilerhdr.addedDate
		from DsEpsdDietProfileHdr profilerhdr
		where profilerhdr.id.prEncounter.id.smFacilityParam.facilityId =:FacilityId
		and profilerhdr.id.prEncounter.id.encounterId =:encounterId
	</query>
-->
	<query name="ehis.ds.placeDietOrder.defaultAttDiet">
		select paramFacility.attendantOrderApplicableYn, 
		paramFacility.acceptDietForIndMealYn 
		from DsParamForFacility paramFacility 
		where paramFacility.operatingFacilityId =:facilityId 
	</query>

	<query name="ehis.ds.placeDietOrder.user">
		select user.funcRoleId 
		from SmApplUser user 
		where user.applUserId =:puser
	</query>

	<query name="ehis.ds.placeDietOrder.orderCatalogCode">
		select dietType.orOrderCatalog.orderCatalogCode
		from DsDietType dietType
		where dietType.dietType = :dietType
	</query>

<query name="ehis.ds.placeDietOrder.orderCatalogNature">select catalog.orderCatalogCode,catalog.shortDesc,catalog.orderCatalogNature
from OrOrderCatalog catalog
where catalog.orderCatalogCode = :catalog</query>

	<query name="ehis.ds.placeDietOrder.nutrientSupplements">
		select TO_CHAR(suppl.servingStartTime,'DD/MM/YYYY HH:MI'), TO_CHAR(suppl.servingEndTime,'DD/MM/YYYY HH:MI'), suppl.mealType,suppl.mealType, suppl.id.itemSl, dsItemType.id.itemType, dsItemType.id.shortDesc, suppl.itemCode, items.id.shortDesc, suppl.itemQty, suppl.patientClass,items.id.servingUomCode from DsEpsdDietProfileSuppl suppl, DsItems items,DsItemTypeLangVw dsItemType where suppl.itemCode = items.id.foodItemCode and suppl.itemType = dsItemType.id.itemType and dsItemType.id.languageId = items.id.languageId and suppl.id.operatingFacilityId=:facilityId and suppl.id.encounterId =:encounterId and suppl.id.profileSl =:profileSl and items.id.languageId = :language_Id
	</query>

	<query name="ehis.ds.placeDietOrder.splfooditem">
		select TO_CHAR(spl.servingTime,'DD/MM/YYYY HH:MI'), spl.servingFreq, TO_CHAR(spl.periodBetServings,'DD/MM/YYYY HH:MI'), spl.id.itemSl, spl.dsItemType.itemType, itemTypes.id.shortDesc, spl.itemCode, items.id.shortDesc, spl.itemQty, spl.patientClass,items.id.servingUomCode 
		from DsEpsdDietProfileSpl	spl, DsItems items ,DsItemTypeLangVw itemTypes
		where spl.itemCode = items.id.foodItemCode
		and spl.dsItemType.itemType = itemTypes.id.itemType
		and itemTypes.id.languageId = items.id.languageId
		and spl.id.dsEpsdDietProfileHdr.id.prEncounter.id.smFacilityParam.facilityId =:facilityId and spl.id.dsEpsdDietProfileHdr.id.prEncounter.id.encounterId =:encounterId and	spl.id.dsEpsdDietProfileHdr.id.profileSl = :profileSl
		and items.id.languageId = :language_Id
	</query>

	<query name="ehis.ds.placeDietOrder.lookupDsDeliveryInstr">
		select substr(instr.id.longDesc,1,30),
		instr.id.instrCode 
		from DsDeliveryInstrLangVw instr 
		where instr.id.effStatus ='E' 
		and instr.id.languageId = :language_Id
	</query>

	<query name="ehis.ds.placeDietOrder.checkAttendent">
		select f.operatingFacilityId,nvl(f.attendantOrderApplicableYn,'N') from DsParamForFacility f where f.operatingFacilityId =:facility_id
	</query>

	<query name="ehis.ds.placeDietOrder.attendentItem">
		select att.id.attendentSrl,att.dsDietType.dietType, 
		att.dsDietType.shortDesc, 
		att.mealClass,
		mealClass.shortDesc, 
		to_char(att.periodFrom,'dd/mm/yyyy'), 
		to_char(att.periodTo,'dd/mm/yyyy'), 
		att.orderId, att.orderLineNo, 
		att.patientClass 
		from DsEpsdDietProfileAtt att, 
		DsMealClass mealClass 
		where att.mealClass = mealClass.mealClass 
		and att.id.dsEpsdDietProfileHdr.id.prEncounter.id.smFacilityParam.facilityId =:facility 
		and att.id.dsEpsdDietProfileHdr.id.prEncounter.id.encounterId	=:encounter 
		and att.id.dsEpsdDietProfileHdr.id.profileSl =:profileSl
	</query>

	<query name="ehis.ds.placeDietOrder.foodDislikes">
		select dislikes.id.itemCode, 
		items.id.shortDesc 
		from DsPatientFoodDislikes dislikes, DsItems items 
		where dislikes.id.itemCode = items.id.foodItemCode 
		and dislikes.id.patientId =:patientId 
		and items.id.languageId = :language_Id
	</query>

<!-- for 10.2 -->
	<query name="ehis.ds.placeDietOrder.mealMenusItemS">
		select menuitem.id.itemSl,
		menuitem.itemType, 
		menuitem.id.itemCode, 
		items.id.shortDesc,
		menuitem.itemQty, 
		menu.dsMealType.mealType,
		menu.dsMealType.shortDesc,
		items.id.servingUomCode,
		items.id.calorificContPerUom,
		param.energyUom
		from DsMenuItem menuitem,
		DsMenu menu,
		DsItems items,
		DsParam param
		where menuitem.id.menuCode =:menu 
		and menuitem.id.menuCode = menu.menuCode
		and menuitem.id.itemCode = items.id.foodItemCode
		and items.id.languageId like :language_Id
		and menuitem.id.itemCode not in 
		(select review.itemCode 
		from DsEpsdDietProfDtlReviewed review 
		where review.id.operatingFacilityId =:facility_id 
		and review.encounterId =:encounter 
		and review.profileSl =:profileNo 
		and ((review.servingDate is null and review.cycleDayRef =:dayRef) or	to_char(review.servingDate,'dd/mm/yyyy')=:srv_date))
	</query>
	

<!-- for 5.1 
	<query name="ehis.ds.placeDietOrder.mealMenusItemS">
		select menuitem.id.itemSl,
		menuitem.itemType, 
		menuitem.id.itemCode, 
		items.id.shortDesc,
		menuitem.itemQty, 
		nvl(menutimetable.id.dsMealType.mealType,'mealTypes'),
		menutimetable.id.dsMealType.shortDesc,items.id.servingUomCode,
		items.id.calorificContPerUom,
		param.energyUom
		from DsMenuItem menuitem, DsMenu menu ,DsItems items,
	  		 DsDietMenuTimeTable menutimetable, DsParam param
		where menuitem.id.menuCode =:menu 
		and menuitem.id.menuCode = menu.menuCode
		and menuitem.id.itemCode = items.id.foodItemCode
		and menutimetable.dsMenu.menuCode = menu.menuCode
		and menutimetable.id.dsKitchens.id.operatingFacilityId =:facility_id
		and menutimetable.id.dsKitchens.id.kitchenCode = :kitchenCode
		and menutimetable.id.dsDietType.dietType = :diettype
		and menutimetable.id.dsMealClass.mealClass = :mealclass		
		and menutimetable.id.dayNo = :dayRef
		and menutimetable.id.dsMealType.mealType =:mealtype
		and menuitem.id.itemCode not in 
		(select review.itemCode 
		from DsEpsdDietProfDtlReviewed review 
		where review.id.operatingFacilityId =:facility_id 
		and review.encounterId =:encounter 
		and review.profileSl =:profileNo 
		and ((review.servingDate is null and review.cycleDayRef = :dayRef) or	to_char(review.servingDate,'dd/mm/yyyy')=:srv_date))
	</query>
-->
	<query name="ehis.ds.placeDietOrder.mealsMenuItemS">
		select review.itemSl,review.itemType, 
		review.itemCode, 
		items.id.shortDesc, 
		review.itemQty,
		review.reviewType,
		review.mealType,
		mealTyp.shortDesc,
		review.dietType,
		items.id.servingUomCode,
		review.id.reviewSlno,
		items.id.calorificContPerUom,
		param.energyUom
		from DsEpsdDietProfDtlReviewed review,
			DsMealType mealTyp,DsItems items,DsParam param
		where review.id.operatingFacilityId =:facility_id 
		and review.encounterId =:encounter 
		and review.profileSl =:profileNo 
		and review.mealType = mealTyp.mealType 
		and review.itemCode = items.id.foodItemCode
		and items.id.languageId like :language_Id
		and ((review.servingDate is not null and to_char(review.servingDate,'dd/mm/yyyy')=:srvdate) 
				 or ((review.servingDate is null and review.cycleDayRef = :dayRef)
				 and ((select count(*) from DsEpsdDietProfDtlReviewed d
								  where  review.id.operatingFacilityId =:facility_id
								  and review.encounterId =:encounter 
								  and review.profileSl =:profileNo
								  and d.itemCode 		  = review.itemCode
								  and (serving_date is null or to_char(serving_date,'DD/MM/YYYY') =:srvdate) 
								  ) = 1)))
	</query>
	

<query name="ehis.ds.placeDietOrder.PatientLength">
	select mpParam.patientIdLength,mpParam.patientIdLength
	from MpParam mpParam
	where mpParam.moduleId ='MP'
	</query>

	<query name="ehis.ds.placeDietOrder.itemType">
		select items.id.itemType, items.id.foodItemCode from DsItems items where items.id.foodItemCode =:foodItem
	</query>

	<query name="ehis.ds.placeDietOrder.dayRefNo">
		select dsDietMenuSchedCycle.menuSchedCycleDays, dsDietMenuSchedCycle.mealPlanRefDate, dsDietMenuSchedCycle.mealPlanRefDayNo from DsDietMenuSchedCycle dsDietMenuSchedCycle where dsDietMenuSchedCycle.id.dsDietType.dietType =:dsDietType and dsDietMenuSchedCycle.id.dsMealClass.mealClass =:dsMealClass and dsDietMenuSchedCycle.id.operatingFacilityId =:facilityID
	</query>

	<query name="ehis.ds.placeDietOrder.dietTypeForMenus">
		select prfdtl.dietType, prfdtl.id.mealType 
		from DsEpsdDietProfileDtl prfdtl 
		where prfdtl.id.operatingFacilityId =:facilityId 
		and prfdtl.id.encounterId =:encounterID 
		and prfdtl.id.profileSl=:profilesl
	</query>
<!--
	<query name="ehis.ds.repFoodItem">
       	select foodItem.foodItemCode, 
		foodItem.shortDesc 
		from DsFoodItem foodItem 
		where upper(foodItem.shortDesc) like upper(:description)
		and  upper(foodItem.foodItemCode) like upper(:code)
		and foodItem.dsItemType.itemType like :item_type 
	</query>
-->
	<query name="ehis.ds.foodItemCodeForKitchenAreaItems">
       	select foodItem.foodItemCode, foodItem.shortDesc from DsFoodItem foodItem 
	</query>

	<query name="ehis.ds.repFoodItem">
       	select foodItem.id.foodItemCode, 
		foodItem.id.shortDesc 
		from DsFoodItemLangVw foodItem 
		where upper(foodItem.id.shortDesc) like upper(:description)
		and upper(foodItem.id.foodItemCode) like upper(:code)
		and foodItem.id.itemType like :item_type
		and foodItem.id.languageId=:language_Id
	</query>

	<query name="ehis.ds.mealpreparedservedcomplaints.wardcode">
		select ip_ward.id.nursingUnitCode,ip_ward.id.shortDesc 
		from IpNursingUnitLangVw as ip_ward 
		where ip_ward.id.effStatus='E' 
		and ip_ward.id.facilityId=:facility_Id
		and ip_ward.id.languageId =:language_Id
	</query>

	<query name="ehis.ds.mealpreparedservedcomplaints.selectRecord">
		select encounter.id.encounterId, 
		encounter.mpPatient.patientId, 
		patient.patientName, 
		encounter.amPatientClass.patientClass, 
		mealhdr.kitchenCode, 
		to_char(mealhdr.id.servingDate,'dd/mm/yyyy'), 
		mealhdr.mealCategory, 
		mealhdr.dsDietType.dietType,
		mealhdr.dsMealClass.mealClass, 
		mealhdr.id.dsMealType.mealType, 
		mealhdr.dsMenu.menuCode 
		from PrEncounter encounter , 
		MpPatient patient, 
		DsEpsdMealPlanHdr mealhdr 
		where encounter.mpPatient.patientId = patient.patientId and
		encounter.id.smFacilityParam.facilityId = mealhdr.id.prEncounter.id.smFacilityParam.facilityId and 
		encounter.id.encounterId = mealhdr.id.prEncounter.id.encounterId and 
		mealhdr.id.dsMealType.mealType = :mealtype and
		mealhdr.id.prEncounter.id.smFacilityParam.facilityId = :facility and 
		encounter.assignCareLocnCode = :ward and 
		to_char(mealhdr.id.servingDate,'dd/mm/yyyy') = nvl(to_char(:srvdate,'dd/mm/yyyy'),to_char(mealhdr.id.servingDate,'dd/mm/yyyy'))
	</query>
	
	<query name="ehis.ds.mealpreparedservedcomplaints.complaints">
		select complaints.id.complaintCode,
		complaints.id.longDesc 
		from DsComplaintsLangVw complaints
		where complaints.id.languageId= :language_Id
		and   complaints.id.effStatus='E'
	</query>

	<query name="ehis.ds.mealpreparedservedcomplaints.updateSelectedRecord">
		select audit.id.prEncounter.id.encounterId,to_char(audit.id.servingDate,'dd/mm/yyyy'),audit.id.dsMealType.mealType,to_char(audit.eventDateTime,'dd/mm/yyyy HH24:mi'),audit.status,audit.complaintCode,audit.complaintDesc, audit.complaintSourceType,audit.complaintSourceCode,
		audit.id.prEncounter.mpPatient.patientId, audit.id.prEncounter.mpPatient.patientName, audit.kitchenCode,audit.patientClass, audit.mealCategory,audit.dsMealClass.mealClass, audit.id.dsMealType.mealType,audit.dsMenu.menuCode,audit.dsDietType.dietType
		from DsEpsdMealPlanHdrAudit audit where audit.id.prEncounter.id.smFacilityParam.facilityId = :facility_id and audit.id.prEncounter.id.encounterId = :encounterid and to_char(audit.id.servingDate,'dd/mm/yyyy')=:srv_date and
		audit.id.dsMealType.mealType = :mealType
	</query>

	<query name="ehis.ds.dfltdietmealclass">
		select mealCategory.defaultDietType,
		mealCategory.defaultMealClass 
		from DsMealCategory mealCategory 
		where mealCategory.mealCategoryCode = :mealCategory
	</query>

	<query name="ehis.ds.mealorderserved.statusCheck">
		select stafford.id.staffOrderId, 
		stafford.id.staffOrderId 
		from DsStaffOrdersHdr stafford 
		where stafford.id.facilityId =:facilityId 
		and stafford.dsMealCategory.mealCategoryCode =:mealcategory 
		and nvl(to_char(:toDate,'dd/mm/yyyy'),'31/12/3000') 
		between to_char(stafford.orderFromDate,'dd/mm/yyyy') 
		and nvl(to_char(stafford.orderToDate,'dd/mm/yyyy'),'31/12/3000') 
		and nvl(stafford.status,'OS')!='CM'
	</query>

	<query name="ehis.ds.mealorderserved.staffOrderId">
		select staffDtl.id.dsStaffOrdersHdr.id.staffOrderId, 
		staffDtl.id.staffOrderLineNum, 
		staffDtl.noOfMealsOrders, 
		staffDtl.noOfMealsServed 
		from DsStaffOrdersDtl staffDtl 
		where staffDtl.id.dsStaffOrdersHdr.id.facilityId =:facilityId 
		and :fromDate 	between to_char(staffDtl.id.dsStaffOrdersHdr.orderFromDate,'dd/mm/yyyy') 
		and nvl(to_char(staffDtl.id.dsStaffOrdersHdr.orderToDate,'dd/mm/yyyy'),'31/12/3000') 
		and nvl(:toDate,:fromDate) between to_char(staffDtl.id.dsStaffOrdersHdr.orderFromDate,'dd/mm/yyyy') 
		and nvl(to_char(staffDtl.id.dsStaffOrdersHdr.orderToDate,'dd/mm/yyyy'),'31/12/3000') 
		and staffDtl.dsMealType.mealType =:mealType 
		and staffDtl.id.dsStaffOrdersHdr.dsMealCategory.mealCategoryCode =:mealCategory
		and staffDtl.dsDietType.dietType =:dietType and nvl(staffDtl.id.dsStaffOrdersHdr.status,'OS') ='OS'
	</query>

	<query name="ehis.ds.menu.mealCategory">
		select dsMealCategory.id.mealCategoryCode, 
		dsMealCategory.id.description
		from DsMealCategoryLangVw dsMealCategory 
		where dsMealCategory.id.mealCategoryCode in ('STF','ONC','STU')
		and   dsMealCategory.id.languageId = :language_Id
	</query>

	<!-- Start of DsMaster Report Queries -->

		<query name="ehis.DS.mstrepDietType">
			select dietType.dietType, dietType.shortDesc
			from DsDietType dietType
		</query>

		<query name="ehis.DS.mstrepMealClass">
			select mealClass.mealClass, mealClass.shortDesc
			from DsMealClass mealClass
		</query>

		<query name="ehis.DS.mstrepMealType">
			select mealType.mealType, mealType.shortDesc
			from DsMealType mealType
		</query>

		<query name="ehis.DS.mstrepFeedType">
			select feedType.feedType, feedType.shortDesc
			from DsFeedType feedType
		</query>

		<query name="ehis.DS.mstrepItemType">
			select itemType.itemType, itemType.shortDesc
			from DsItemType itemType
		</query>

		<query name="ehis.DS.mstrepComplaints">
			select complaints.complaintCode, complaints.shortDesc
			from DsComplaints complaints
		</query>

		<query name="ehis.DS.mstrepDelInstr">
			select instr.instrCode, instr.longDesc
			from DsDeliveryInstr instr
		</query>

		<query name="ehis.DS.mstrepIngredient">
			select ingredient.ingredientCode, ingredient.shortDesc
			from DsIngredient ingredient
		</query>

		<query name="ehis.DS.mstrepMealCategory">
			select mealCategory.mealCategoryCode, mealCategory.description
			from DsMealCategory mealCategory
		</query>

	 	<query name="ehis.DS.mstrepKitchens">
			select kitchens.id.kitchenCode, kitchens.shortDesc
			from DsKitchens kitchens
			where kitchens.id.operatingFacilityId  =:facilityId
		</query>

		<query name="ehis.DS.mstrepKitchenArea">
			select kitArea.id.kitchenAreaCode, kitArea.shortDesc
			from DsKitchenArea kitArea
			where kitArea.id.dsKitchens.id.operatingFacilityId  like :facilityId
			and kitArea.id.dsKitchens.id.kitchenCode like :kitchenCode
		 </query> 

		<query name="ehis.DS.mstrepFoodItem">
			select foodItem.foodItemCode, foodItem.shortDesc
			from DsFoodItem foodItem
		</query>

		<query name="ehis.DS.mstrepCommFormula">
			select commFormula.commFormulaCode, commFormula.shortDesc
			from DsCommFormula commFormula
		</query>

		<query name="ehis.DS.mstrepMenu">
			select menu.menuCode, menu.shortDesc
			from DsMenu menu
		</query>

	<!-- End of DsMaster Report Queries -->

	<!-- Start of DsCode Report Queries -->

	<query name="ehis.DS.mstrepNutrient">
		select nutrient.nutrientsCode, 
		nutrient.shortDesc 
		from DsNutrients nutrient
	</query>

	<!-- End of DsCode Report Queries -->

	<!-- Start of DS Queries -->

	<query name="ehis.DS.MEAL_CENSUS.masterQuery">
	select mealplanhdr.id.prEncounter.id.encounterId, 
		mealplanhdr.id.prEncounter.assignBedNum, 
		mealplanhdr.id.prEncounter.mpPatient.patientId, 
		mealplanhdr.id.prEncounter.mpPatient.patientName,
		mealplanhdr.id.dsMealType.mealType,
		mealType.id.shortDesc, 
		dietType.id.shortDesc, 
		mealClass.id.shortDesc, 
		menu.id.shortDesc 
	from DsEpsdMealPlanHdr mealplanhdr,DsMealTypeLangVw mealType,
	     DsDietTypeLangVw dietType,DsMealClassLangVw mealClass,DsMenuLangVw menu
	where mealplanhdr.id.dsMealType.mealType = mealType.id.mealType
	and mealplanhdr.dsDietType.dietType = dietType.id.dietType
	and mealplanhdr.dsMealClass.mealClass = mealClass.id.mealClass
	and mealplanhdr.dsMenu.menuCode = menu.id.menuCode
	and   mealplanhdr.id.prEncounter.id.smFacilityParam.facilityId like :facilityId
	and mealplanhdr.kitchenCode like :kitchenCode 
	and mealplanhdr.id.prEncounter.assignCareLocnCode like NVL(:wardCode,mealplanhdr.id.prEncounter.assignCareLocnCode)
	and to_char(mealplanhdr.id.servingDate,'dd/mm/yyyy') like :servingDate
	and mealType.id.languageId like :language_Id
	and dietType.id.languageId like :language_Id
	and mealClass.id.languageId like :language_Id
	and menu.id.languageId like :language_Id
	</query>
	
	<query name="ehis.ds.mealcensus.detailRecord">
		select mealplandtl.itemSl,
		mealplandtl.dsItemType.shortDesc,
		food.id.shortDesc,
		mealplandtl.id.dsEpsdMealPlanHdr.id.servingDate,
		mealplandtl.itemQty,
		food.id.servingUomCode 
		from DsEpsdMealPlanDtl mealplandtl,DsItems food,DsItemTypeLangVw itemType
		where mealplandtl.id.itemCode = food.id.foodItemCode 
		and mealplandtl.dsItemType.itemType = itemType.id.itemType
		and mealplandtl.id.dsEpsdMealPlanHdr.id.prEncounter.id.smFacilityParam.facilityId =:facilityId
		and mealplandtl.id.dsEpsdMealPlanHdr.id.prEncounter.id.encounterId =:encountrId
		and mealplandtl.id.dsEpsdMealPlanHdr.id.dsMealType =:mealType
		and food.id.languageId=:language_Id
		and itemType.id.languageId like :language_Id
	</query>
		
	<query name="ehis.DS.MEAL_STATISTICS.masterQuery">
		select mealstat.id.curWardCode,
		mealstat.id.dietType,
		mealstat.id.patientMeals,
		mealstat.id.attMeals 
		from DsDailyMealStatistics mealstat 
		where mealstat.id.kitchenCode like :kitchenCode 
		and mealstat.id.mealType like :mealType 
		and to_char(mealstat.id.servDate,'dd/mm/yyyy') like :servingDate
		and mealstat.id.languageId like :language_Id
	</query>

	<query name="ehis.ds.wardCode">
		select ip_ward.id.nursingUnitCode, ip_ward.id.shortDesc 
		from IpNursingUnitLangVw ip_ward where ip_ward.id.effStatus ='E' and
		ip_ward.id.facilityId like :facilityId 
		and ip_ward.id.languageId = :language_Id
	</query>
	
	<query name="ehis.ds.mealclass">
		select mealclass.id.mealClass,mealclass.id.shortDesc from DsMealClassLangVw mealclass 
		where mealclass.id.effStatus='E' and mealclass.id.languageId like :language_Id
    </query>

	<query name="ehis.ds.nutrientFoodItemCode">
		select nutrients.nutrientsCode, 
		nutrients.nutrientConversion,
		nutrients.energyConversion 
		from DsNutrients nutrients 
		where nutrients.nutrientsCode = :nutrientsCode
    </query>

	<query name="ehis.ds.generateMealPlanMaxMealPlan">
		select forFacility.maxMealPlanCreatDays,
		forFacility.operatingFacilityId 
		from DsParamForFacility forFacility 
		where forFacility.operatingFacilityId =:facilityId
	 </query>

	<query name="ehis.ds.generateMealPlan.listNo">
		select distinct planHdr.mealPlanSeqNo,
		planHdr.mealPlanSeqNo 
		from DsEpsdMealPlanHdr planHdr 
		where planHdr.id.prEncounter.id.smFacilityParam.facilityId =:facilityId
		and to_char(planHdr.id.servingDate,'dd/mm/yyyy') =:servingDate
	</query>

   	<!-- END of DS Queries -->
</hibernate-mapping>