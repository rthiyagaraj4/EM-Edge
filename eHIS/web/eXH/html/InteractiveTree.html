<!--
Copyright 1999-2015, Computer Sciences Corporation. All rights reserved.
 
Warning: This computer program is protected by copyright law and international treaties.
Unauthorized reproduction or distribution of this program, or any portion of it, 
may result in severe civil and criminal penalties, and will be prosecuted to 
the maximum extent possible under the law.
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="StyleSheet" href="../../eCommon/html/dtree.css" type="text/css" />
	<link rel='stylesheet' type ='text/css' href='../../eCommon/html/Tabs.css'></link>
	<link rel="StyleSheet" href="../../eCommon/html/lris_style.css" type="text/css" />
	<script type="text/javascript" src="../../eXH/js/dtree1.js"></script>
	<script language="javascript" src="../../eXH/js/Viewtreeimage.js" ></script>
	<script language='JavaScript' src='../../eXH/js/Validate.js'></script>
   <script Language="JavaScript"  src="../../eCommon/js/ValidateControl.js" ></script>
  <Script Language="JavaScript" src="../../eCommon/js/CommonLookup.js"></Script>
<script language='JavaScript' src='../../eXH/js/checkfield.js'></script>
<script language='JavaScript' src='../../eCommon/js/common.js'></script>
</head>					    
<body bgcolor='#F7F3F7' topmargin=0 leftmargin=0 valign=top>
<form >
<table cellspacing=0 cellpadding=3 width='99%' align=center >
<tr>
<td class=label label >getLabel("Common.Request.label","common");testing<script>alert(getLabel("Common.Request.label","common"));</script></td>
<input type=hidden id='Message' name='Message' id='Message'  >
<input type=hidden id='Messagesyn' name='Messagesyn' id='Messagesyn'  >
<input type=hidden id='Symbols' name='Symbols' id='Symbols'  >
<input type=hidden id='standardtype' name='standardtype' id='standardtype'  >
</tr>
<td>
<div class="tree">
<script language="JavaScript">

d = new dTree('d');
var treeval =new Array();
var tswArr =new Array();
var AtArr =new Array();
var ExcArr =new Array();
var pipArr =new Array();
var capArr =new Array();
var TextVal=new Array();
var tswVal=new Array();
var AtVal=new Array();
var ExcVal=new Array();
var PiptVal=new Array();
var CapVal=new Array();
var AmperVal=new Array();
var OpenVal=new Array();
var CloseVal=new Array();
var tsw=0;
var cou=1;
var Exc=0;
var At=0;
var pip=0;
var tswt=0;
var Att=0;
var Exct=0;
var Pipt=0;
var Capt=0;
var Ampert=0
var treeval =new Array();
var hashArr =new Array();
var dolArr =new Array();
var perArr =new Array();
var pipArr =new Array();
var capArr =new Array();
var dolVal=new Array();
var PerVal=new Array();
var hashVal=new Array();
var TextVal=new Array();
var Open=0;
var Amper=0;
var Opent=0;
var Closet=0;
var pip=0;var Cap=0;
var hash=0;
var hashCou;
var dolCou;
var perCou;
var pipCou;
var capCou;
var l_pos;
var cou=1;
var temp='';
var perce=0;
var dola=0;
var som=0;
var pip=0;
var hasht=0;
var dolt=0;
var Pert=0;
var ll=0;
var capte1=0;
var k2="";
var symbolvalue;
var temp='';
var d1=0;
var val="";

var acchar=0;
var sy='';
var Symbols=new Array();
var s1=0;
var Lesstan=new Array();
var less=0;
var MessageHead="";
var CapVal1=new Array();
var Capt1=0;
var boxval=new Array();
var box=0;
var messegetext=unescape(parent.frames[0].document.forms[0].Req_txt.value)+'|';
var Messegesyntax=unescape(parent.frames[0].document.forms[0].ReQ_Syn.value)+'|';

var Standard_symbols=parent.frames[0].document.forms[0].Req_symbols.value;
var compilesimples=3;
var Standard_type1=parent.frames[0].document.forms[0].Req_type.value;
var perce=0;

if(Messegesyntax.indexOf("###")!=-1);
{
Standard_symbols="35|35|35{{{35|36|35{{{35|37|35{{{"+parent.frames[0].document.forms[0].Req_symbols.value;
}


var SplitinElements=new Array();
var sp=0;
var spliting=Standard_symbols.split("{{{");
for(var s=0;s<spliting.length;s++)
{
if(spliting[s]!=='')
{
if(spliting[s].indexOf('|')!=-1)
{
var SpilitngStandardpip=spliting[s].split('|');


SplitinElements[sp]=SpilitngStandardpip[1];

}

else
{
SplitinElements[sp]=spliting[s];

}
sp++;
}
//}
}


var spt1=0;
var intSymbols=new Array();
var intd=0;

for(var spt=0;spt<SplitinElements.length;spt++)
{
if(spt==0 || spt==1 || spt==2)
{
Symbols[spt1]="#"+String.fromCharCode(SplitinElements[spt])+"#";
intSymbols[intd]="#"+String.fromCharCode(SplitinElements[spt])+"#";
intd++;
}
else
{
Symbols[spt1]=String.fromCharCode(SplitinElements[spt]);
intSymbols[intd]=String.fromCharCode(SplitinElements[spt]);

intd++;
}
spt1++;

}

if(Standard_type1=='H')
{
var pipsimple="|";
var pipsym=messegetext.indexOf('|');
var firstmessage=messegetext.substring(0,pipsym);

CapVal[0]=pipsimple;
PiptVal[0]=firstmessage;
var messagevaluepip=messegetext.substring((pipsym+1),messegetext.length);
var nextpip=messagevaluepip.indexOf('|');
var massagenextpip=messagevaluepip.substring(0,nextpip);
var secondsplit=messagevaluepip.substring(nextpip,messagevaluepip.length);
CapVal[1]=massagenextpip;
if(Symbols[3]!=null )
{
var ch=Symbols[3].toString();
}
else
{

}

var identifysimbol=Messegesyntax.indexOf(ch);
var identifypip=Messegesyntax.indexOf('|');

var MsgsubString=Messegesyntax.substring(identifysimbol+1,identifypip);
var tillMegHeead=Messegesyntax.substring(0,identifysimbol);
var tillsegHead=Messegesyntax.substring(identifypip,Messegesyntax.length);

var Replace="";

if(Symbols[5]!=null)
{
Replace=Symbols[5].toString()+MsgsubString;

}
else
{
Replace=ch+MsgsubString;
}

 Messegesyntax=tillMegHeead+ch+Replace+tillsegHead+'|';
// alert(Messegesyntax);

Capt=2;
k2=secondsplit;
Pipt=1;

for(var i=0;i<k2.length;i++)
{
 curval= (k2.charAt(i)).toString();
 if(curval=='+')
{
curval=' ';
}



if(curval == intSymbols[0] || curval ==intSymbols[1] || curval == intSymbols[2] || curval == intSymbols[3] ||curval == intSymbols[4] || curval == intSymbols[5] || curval == intSymbols[6] ||curval == intSymbols[7] || curval == intSymbols[8] ||curval == intSymbols[9] ||curval == intSymbols[10] || curval == '*')
{


 if(temp.length>0 || curval == intSymbols[3])
{


var somethingdata=temp.substring(0,1);



switch(test(somethingdata))
{

case 0:

break;
case 1:

break;
case 2:

break;
case 3:



boxval[box]=temp.substring(1);

box++;


break;
case 4:
var value3=temp.substring(1);
if (value3==null)
{
Lesstan[less]=MessageHead;
less++;
}
else
{
Lesstan[less]=value3;

less++;
}
break;
case 5:
PiptVal[Pipt]=temp.substring(1);

Pipt++;
break;
case 6:
CapVal[Capt]=temp.substring(1);
Capt++;
break;
case 7:
CapVal1[Capt1]=temp.substring(1);

Capt1++;
break;

case '*':
break;

case '&':
break;

}
}
temp=curval;
}
else 
  {
	temp=temp+curval;
  }
}
 if(temp.length>0)
{
switch(test(curval))
{

case 0:

break;
case 1:

break;
case 2:

break;
case 3:

MessageHead=temp.substring(1);



if(MessageHead=="" || MessageHead==null)
{
}
else
{
boxval[box]=MessageHead;
box++;

}

break;
case 4:

Lesstan[less]=temp.substring(1);

less++;
break;
case 5:

if(temp.substring(1)=='*')
{
}
else
{
PiptVal[Pipt]=temp.substring(1);

Pipt++;
}
break;
case 6:
CapVal[Capt]=temp.substring(1);
Capt++;
break;
case 7:
CapVal1[Capt1]=temp.substring(1);
Capt1++;
case '*':

break;
case '&':
break;
}
}

/**************************populate Tree*************************////
/**********************************Populate Tree*****************************/
var tswte=0;
var Atte=0;
var Excte=0;
var pipte=0;
var capte=0;
var cou1=1;
var Opente=0;
var Closete=0;
var Amperte=0
var hashte=0;
var pipsom=0;
var dolte=0;
var perte=0;
var lesste=0;
var cap=0;
var boxte=0;
d.add(0,-1,'');
var counting=1;
var spe=0;
for(var i=0;i<Messegesyntax.length;i++)
{
 curval=(Messegesyntax.charAt(i)).toString();
 curval1=(Messegesyntax.charAt(i)).toString();
some=(Messegesyntax.charAt(i)).toString()+((Messegesyntax.charAt(i+1)).toString())+((Messegesyntax.charAt(i+2)).toString());;
  if((Messegesyntax.charAt(i+2)).toString()=="" || (Messegesyntax.charAt(i+1)).toString()=="")
  {
 some=some+"lam,x"+"lam,x";
}

if(compilesimples==i)
{
curval=some1;

}

if(some == intSymbols[0] || some == intSymbols[1] || some == intSymbols[2]  || some == intSymbols[3]  || some == intSymbols[4] ||  some == intSymbols[5] || some == intSymbols[6] )
{
compilesimples=(i+2);
some1=some;
counting=3;
spe=2;
}
else if(curval1 == intSymbols[0] || curval1 == intSymbols[1] || curval1 == intSymbols[2]  || curval1 == intSymbols[3]  || curval1 == intSymbols[4] ||  curval1 == intSymbols[5] || curval1 == intSymbols[6])
{
curval=curval1;
spe=0;
counting=1;
}
          
if(curval=="+")
{

curval=" ";
}
 
 if(curval == intSymbols[0] || curval ==intSymbols[1] || curval == intSymbols[2] || curval == intSymbols[3] || curval ==intSymbols[4] || curval == intSymbols[5] || curval == intSymbols[6] || curval ==intSymbols[7] || curval == intSymbols[8] || curval == intSymbols[9] || curval ==intSymbols[10] || curval == intSymbols[11])
 
 {

 if(temp.length>0 )
{

temp=temp.substring(0,(temp.length-spe));

if(temp.indexOf("#%#")!=-1)
{
counting=3
}
var somethingdata=temp.substring(0,counting)


switch(test(somethingdata))
{
case 0:

var value11=temp.substring(counting);

if(value11=="")
{
}
else
{
if(hashVal[hashte]==null)
{
var value1=value11;
}
else
{

var value1=value11+"     =     "+hashVal[hashte];
}
d.add(cou1,0,value1,value1);
hash=cou1;
cou1++;
hashte++;

}
break;
case 1:



var value12=temp.substring((counting));



if(value12=="")
{


}
else
{
if(dolVal[dolte]==null)
{
var value2=value12;
}
else
{
var value2=value12+"     =     "+dolVal[dolte];
}
d.add(cou1,hash,value2,value2);
dola=cou1;
cou1++;
dolte++;
}


break;
case 2:

dola=getData(dola,hash,1);
var value13=temp.substring((counting));


if(value13=="")
{
}
else
{
if(PerVal[perte]==null)
{
var value3=value13;
}
else
{
var value3=value13+"     =     "+PerVal[perte];
}
d.add(cou1,dola,value3,value3);

perce=cou1;
perce=cou1;
cou1++;
perte++;
counting=0;
}
break;
case 3:

perce =getData(perce,hash,1);
perce=getData(perce,dola,2);


var somevalue1="";


var somevalue=temp.substring(counting);
if(somevalue=="")
{
}
else
{
if(boxval[boxte]==null)
{
somevalue1=somevalue;


}
else
{
somevalue1=somevalue+"     =     "+boxval[boxte];
}


d.add(cou1,perce,somevalue1,"");
pipsom=cou1;
//som=cou1;
boxte++;
cou1++;

}


break;
case 4:

som =getData(som,hash,1);
som=getData(som,dola,2);
som=getData(pipsom,perce,3);
var lessval1="";

var lessval=temp.substring(1);

if(lessval=="")
{
}
else
{
if(Lesstan[lesste]==null)
{
lessval1=lessval;
}
else
{
lessval1=lessval+"     =     "+Lesstan[lesste];
}

d.add(cou1,som,lessval1,valuePip);
pipsom=som;
pip=cou1;
lesste++;
cou1++;

}

break;
case 5:

pip=getData(pip,hash,1);
pip=getData(pip,dola,2);
pip=getData(pip,perce,3);
pip=getData(pip,pipsom,4);


var valuePip1=temp.substring(1);



if(valuePip1=="")
{
}
else
{
if(PiptVal[pipte]==null)
{
var valuePip=valuePip1;
}
else
{
var valuePip=valuePip1+"     =     "+PiptVal[pipte];

}

acchar=0;
d.add(cou1,pip,valuePip,valuePip);

 cap=cou1;
 cou1++;
 pipte++;

 }
break;
case 6:
cap=getData(cap,hash,1);
cap=getData(cap,dola,2);
cap=getData(cap,perce,3);
cap=getData(cap,som,4);
cap=getData(cap,pip,5);
var valueCap1=temp.substring(1);
var pipchar="";
if(valueCap1=="")
{
}
else
{
if(acchar<16)
{
pipchar=CapVal[capte];
capte++;
}
else
{
pipchar="";
}
if(pipchar==null)
{
var valueCap=valueCap1;
}
else
{
var valueCap=valueCap1+"     =     "+pipchar;


}


acchar++;


d.add(cou1,cap,valueCap,valueCap);
ll=cou1;
cou1++;

}
break;

case 7:
ll=getData(ll,hash,1);
ll=getData(ll,dola,2);
ll=getData(ll,perce,3);
ll=getData(ll,som,4);
ll=getData(ll,pip,5);
ll=getData(ll,cap,6);
var valueCap12=temp.substring(1);

if(valueCap12=="")
{
}
else
{
if(CapVal1[capte1]==null)
{
var valueCap3=valueCap12;
}
else
{
var valueCap3=valueCap12+"     =     "+CapVal1[capte1];


}
d.add(cou1,ll,valueCap3,valueCap);
cou1++;
capte1++;

}
break;




}
}


temp=curval;

}
else 
{
	temp=temp+curval;

	
}
  }
 if(temp.length>0 )
{
temp=temp.substring(0,(temp.length-spe));

if(temp.indexOf("#%#")!=-1)
{
counting=3;
}


var somethingdata=temp.substring(0,counting)


switch(test(somethingdata))
 {
case 0:


var value11=temp.substring(counting);

if(value11=="")
{
}
else
{
if(hashVal[hashte]==null)
{
var value1=value11;
}
else
{

var value1=value11+"     =     "+hashVal[hashte];
}
d.add(cou1,0,value1,value1);
hash=cou1;
cou1++;
hashte++;

}
break;
case 1:

var value12=temp.substring((counting));



if(value12=="")
{
}
else
{
if(dolVal[dolte]==null)
{
var value2=value12;
}
else
{
var value2=value12+"     =     "+dolVal[dolte];
}
}
d.add(cou1,hash,value2,value2);
dola=cou1;
cou1++;
dolte++;

break;
case 2:
dola=getData(dola,hash,1);
var value13=temp.substring((counting));
if(value13=="")
{
}
else
{
if(PerVal[perte]==null)
{
var value3=value13;
}
else
{
var value3=value13+"     =     "+PerVal[perte];
}
d.add(cou1,dola,value3,value3);
perce=cou1;
perce=cou1;
cou1++;
perte++;
counting=0;
}
break;
case 3:

perce =getData(perce,hash,1);
perce=getData(perce,dola,2);

var somevalue1="";


var somevalue=temp.substring(counting);
if(somevalue=="")
{
}
else
{
if(boxval[boxte]==null)
{
somevalue1=somevalue;


}
else
{
somevalue1=somevalue+"     =     "+Lesstan[lesste];
}


d.add(cou1,perce,somevalue1,"");
som=cou1;
boxte++;
cou1++;

}


break;
case 4:

som =getData(som,hash,1);
som=getData(som,dola,2);
som=getData(som,perce,3);
var lessval1="";
var lessval=temp.substring(1);

if(lessval=="")
{
}
else
{
if(Lesstan[lesste]==null)
{
lessval1=lessval;
}
else
{
lessval1=lessval+"     =     "+Lesstan[lesste];
}
d.add(cou1,som,lessval1,valuePip);
pip=cou1;
lesste++;
cou1++;

}

break;
case 5:
pip=getData(pip,hash,1);
pip=getData(pip,dola,2);
pip=getData(pip,perce,3);
pip=getData(pip,som,4);


var valuePip1=temp.substring(1);



if(valuePip1=="")
{
}
else
{
if(PiptVal[pipte]==null)
{
var valuePip=valuePip1;
}
else
{
var valuePip=valuePip1+"     =     "+PiptVal[pipte];

}

d.add(cou1,pip,valuePip,valuePip);

 cap=cou1;
 cou1++;
 pipte++;

 }
break;
case 6:
cap=getData(cap,hash,1);
cap=getData(cap,dola,2);
cap=getData(cap,perce,3);
cap=getData(cap,som,4);
cap=getData(cap,pip,5);
var valueCap1=temp.substring(1);


if(valueCap1=="")
{
}
else
{
if(CapVal[capte]==null)
{
var valueCap=valueCap1;
}
else
{
var valueCap=valueCap1+"     =     "+CapVal[capte];


}
d.add(cou1,cap,valueCap,valueCap);
ll=cou1;
cou1++;
capte++;

}
break;
case 7:
ll=getData(ll,hash,1);
ll=getData(ll,dola,2);
ll=getData(ll,perce,3);
ll=getData(ll,som,4);
ll=getData(ll,pip,5);
ll=getData(ll,cap,6);
var valueCap12=temp.substring(1);
if(valueCap12=="")
{
}
else
{
if(CapVal1[capte1]==null)
{
var valueCap3=valueCap12;
}
else
{
var valueCap3=valueCap12+"     =     "+CapVal1[capte1];


}
d.add(cou1,ll,valueCap3,valueCap);
cou1++;
capte1++;

}
break;

case '*':
break;
}
}

 
document.write(d);

}

else
{

/*Messegesyntax="###Sriraj Interim Interface#$#sadfasfdfds#%#Siriraj Interim-Patient Demographic Inbound SegmentSiriraj Interim-Patient Demographic Inbound Segment|Application Id|Facility Id|Event Type|Trx No|Trx Date|Load Status|EXT_PATIENT_ID|COMM_STATUS|RUNNING_NO|REGN_DATE|NATIONAL_ID_NO|ALT_ID1_TYPE|ALT_ID1_NO|ALT_ID4_TYPE|ALT_ID4_NO|CONTACT1_NO|CONTACT2_NO|EMAIL_ID|NAME_PREFIX|FIRST_NAME|FAMILY_NAME|PATIENT_NAME|NAME_PREFIX_LOC_LANG|FIRST_NAME_LOC_LANG|FAMILY_NAME_LOC_LANG|PATIENT_NAME_LOC_LANG|SEX|DATE_OF_BIRTH|CALCULATED_AGE_YN|MAR_STATUS_CODE|RACE_CODE|RELGN_CODE|REGN_FACILITY_ID|DECEASED_YN|NATIONALITY_CODE|CITIZEN_YN|PREF_FACILITY_ID|DECEASED_DATE|DECEASED_FACILITY_ID|DECEASED_ENCOUNTER_ID|DEATH_STATUS_REMARKS|ADDR1_TYPE|ADDR1_LINE1|ADDR1_LINE2|ADDR1_LINE3|ADDR1_LINE4|RES_AREA1_CODE|RES_TOWN1_CODE|REGION1_CODE|POSTAL1_CODE|COUNTRY1_CODE|ADDR2_TYPE|ADDR2_LINE1|ADDR2_LINE2|ADDR2_LINE3|ADDR2_LINE4|RES_AREA2_CODE|RES_TOWN2_CODE|REGION2_CODE|POSTAL2_CODE|COUNTRY2_CODE|EDUCATION_LEVEL|BLOOD_GRP|RH_FACTOR|ADDL_FIELD1|ADDL_FIELD2|ADDL_FIELD3|ADDL_FIELD4|CONTACT1_ROLE|CONTACT1_RELATION|CONTACT1_NAME|REL_ADDR1_LINE1|REL_ADDR1_LINE2|REL_ADDR1_LINE3|REL_ADDR1_LINE4|REL_RES1_TOWN_CODE|REL_RES1_AREA_CODE|REL_REGION1_CODE|REL_COUNTRY1_CODE|REL_CONTACT1_MOB_TEL_NO|CONTACT2_ROLE|CONTACT2_RELATION|CONTACT2_NAME|REL_ADDR2_LINE1|REL_ADDR2_LINE2|REL_ADDR2_LINE3|REL_ADDR2_LINE4|REL_RES2_TOWN_CODE|REL_RES2_AREA_CODE|REL_REGION2_CODE|REL_COUNTRY2_CODE|REL_RES2_TEL_NO|REL_CONTACT2_NAT_ID_NO|CONTACT3_ROLE|CONTACT3_RELATION|CONTACT3_NAME|REL_ADDR3_LINE1|REL_ADDR3_LINE2|REL_ADDR3_LINE3|REL_ADDR3_LINE4|REL_RES3_TOWN_CODE|REL_RES3_AREA_CODE|REL_REGION3_CODE|REL_COUNTRY3_CODE|REL_RES3_TEL_NO|REL_OFF3_TEL_NO|OCPN_CLASS_CODE|OCPN_CODE|ADDED_BY_ID|ADDED_DATE|MODIFIED_BY_ID|MODIFIED_DATE|STATUS|REMARKS|ADDED_AT_WS_NO|MODIFIED_AT_WS_NO|";


messegetext="SDI|SRIRAJINT|XX|SI2|123|02-JUL-08|N|0000000408|I|408|02-JUL-08|21367823489237|ID|0020199|ID4|5456|34535|456546|FGFDSG@sdkj.com|PanAkeYing M.R.V|First Name|Nongnut Sangtaweep|PanAkeYing M.R.V, Nongnut Sangtaweep|BCD|DSF|SAD|ASD|M|02-JUL-08|Y|1|ASIAN|3|IN|Y|SI|SI|Y|02-JUL-08|HS|100000220001|XCA|MAI|FFF|GFDG|DFG|FGD|KETERE|JH1899|RG006|57100|3217|MAI|DFG|DFGDF|FDG|FDG|KETERE|JH1899|RG011|50480|3217|FD|A000|DFG|GDF|GDFG|DFG|DFG|DFG|DF|FDG|DFG|FDG|DFGDFG|DFG|JH1899|KBHARU|RG005|3306|DFG|DF|DF|GD|DFG|DFG|DFG|DFG|JH1901|KBHARU|RG005|3306|DFG|DFG|DF|DF|DFG|DFG|DFG|DFG|DFG|JH1901|KBHARU|RG005|3306|566777|46|D|1211|IBAEHIS|02-JUL-08|IBAEHIS|02-JUL-08|N|DSFSD|DFLT|";*/


k2=messegetext;
for(var i=0;i<k2.length;i++)
{



 curval=(k2.charAt(i)).toString();
 curval1=(k2.charAt(i)).toString();
some=(k2.charAt(i)).toString()+((k2.charAt(i+1)).toString())+((k2.charAt(i+2)).toString());
  if((k2.charAt(i+2)).toString()=="" && (k2.charAt(i+1)).toString()=="")
  {
 some=some+'laxs*.'+'lax*.';
}


 if(curval=='+')
{


curval='      ';
}
if(some == intSymbols[0] || some == intSymbols[1] || some == intSymbols[2]  || some == intSymbols[3]  || some == intSymbols[4] ||  some == intSymbols[5] || some == intSymbols[6] )
{


compilesimples=(i+2);
some1=some;
counting=3;
spe=2;
}
else if(curval1 == intSymbols[0] || curval1 == intSymbols[1] || curval1 == intSymbols[2]  || curval1 == intSymbols[3]  || curval1 == intSymbols[4] ||  curval1 == intSymbols[5] || curval1 == intSymbols[6])
{

curval=curval1;
spe=0;
counting=1;

}

  if(curval == intSymbols[0] || curval ==intSymbols[1] || curval == intSymbols[2] || curval == intSymbols[3] ||curval == intSymbols[4] || curval == intSymbols[5] || curval == intSymbols[6] ||curval == intSymbols[7] || curval == intSymbols[8] ||curval == intSymbols[9] ||curval == intSymbols[10] || curval == '*')
 {



 if(temp.length>0 || curval == intSymbols[3])
{
var somethingdata=temp.substring(0,counting);


switch(test(somethingdata))
{

case 0:

break;
case 1:

break;
case 2:

break;
case 3:



MessageHead=temp.substring(1);

if(MessageHead=="" || MessageHead==null)
{
}
else
{
boxval[box]=MessageHead;

box++;

}
break;
case 4:
var value3=temp.substring(1);


if (value3==null)
{
Lesstan[less]=MessageHead;
less++;
}
else
{
Lesstan[less]=value3;

less++;
}
break;
case 5:
PiptVal[Pipt]=temp.substring(1);

Pipt++;
break;
case 6:
CapVal[Capt]=temp.substring(1);


Capt++;
break;
case 7:
CapVal1[Capt1]=temp.substring(1);

Capt1++;
break;

case '*':
break;

case '&':
break;

}
}
temp=curval;
}
else 
  {
	temp=temp+curval;
  }
}
 if(temp.length>0)
{
switch(test(curval))
{

case 0:

break;
case 1:

break;
case 2:

break;
case 3:

MessageHead=temp.substring(1);



if(MessageHead=="" || MessageHead==null)
{
}
else
{
boxval[box]=MessageHead;
box++;

}

break;
case 4:

Lesstan[less]=temp.substring(1);

less++;
break;
case 5:

if(temp.substring(1)=='*')
{
}
else
{
PiptVal[Pipt]=temp.substring(1);

Pipt++;
}
break;
case 6:
CapVal[Capt]=temp.substring(1);
Capt++;
break;
case 7:
CapVal1[Capt1]=temp.substring(1);
Capt1++;
case '*':

break;
case '&':
break;
}
}


/**************************populate Tree*************************////
/**********************************Populate Tree*****************************/
var tswte=0;
var Atte=0;
var Excte=0;
var pipte=0;
var capte=0;
var cou1=1;
var Opente=0;
var Closete=0;
var Amperte=0
var hashte=0;
var dolte=0;
var perte=0;
var lesste=0;
var cap=0;
d.add(0,-1,'');
var some1;

var boxte=0;

/*Messegesyntax="###Sriraj Interim Interface#$#sadfasfdfds#%#Siriraj Interim-Patient Demographic Inbound SegmentSiriraj Interim-Patient Demographic Inbound Segment|Application Id|Facility Id|Event Type|Trx No|Trx Date|Load Status|EXT_PATIENT_ID|COMM_STATUS|RUNNING_NO|REGN_DATE|NATIONAL_ID_NO|ALT_ID1_TYPE|ALT_ID1_NO|ALT_ID4_TYPE|ALT_ID4_NO|CONTACT1_NO|CONTACT2_NO|EMAIL_ID|NAME_PREFIX|FIRST_NAME|FAMILY_NAME|PATIENT_NAME|NAME_PREFIX_LOC_LANG|FIRST_NAME_LOC_LANG|FAMILY_NAME_LOC_LANG|PATIENT_NAME_LOC_LANG|SEX|DATE_OF_BIRTH|CALCULATED_AGE_YN|MAR_STATUS_CODE|RACE_CODE|RELGN_CODE|REGN_FACILITY_ID|DECEASED_YN|NATIONALITY_CODE|CITIZEN_YN|PREF_FACILITY_ID|DECEASED_DATE|DECEASED_FACILITY_ID|DECEASED_ENCOUNTER_ID|DEATH_STATUS_REMARKS|ADDR1_TYPE|ADDR1_LINE1|ADDR1_LINE2|ADDR1_LINE3|ADDR1_LINE4|RES_AREA1_CODE|RES_TOWN1_CODE|REGION1_CODE|POSTAL1_CODE|COUNTRY1_CODE|ADDR2_TYPE|ADDR2_LINE1|ADDR2_LINE2|ADDR2_LINE3|ADDR2_LINE4|RES_AREA2_CODE|RES_TOWN2_CODE|REGION2_CODE|POSTAL2_CODE|COUNTRY2_CODE|EDUCATION_LEVEL|BLOOD_GRP|RH_FACTOR|ADDL_FIELD1|ADDL_FIELD2|ADDL_FIELD3|ADDL_FIELD4|CONTACT1_ROLE|CONTACT1_RELATION|CONTACT1_NAME|REL_ADDR1_LINE1|REL_ADDR1_LINE2|REL_ADDR1_LINE3|REL_ADDR1_LINE4|REL_RES1_TOWN_CODE|REL_RES1_AREA_CODE|REL_REGION1_CODE|REL_COUNTRY1_CODE|REL_CONTACT1_MOB_TEL_NO|CONTACT2_ROLE|CONTACT2_RELATION|CONTACT2_NAME|REL_ADDR2_LINE1|REL_ADDR2_LINE2|REL_ADDR2_LINE3|REL_ADDR2_LINE4|REL_RES2_TOWN_CODE|REL_RES2_AREA_CODE|REL_REGION2_CODE|REL_COUNTRY2_CODE|REL_RES2_TEL_NO|REL_CONTACT2_NAT_ID_NO|CONTACT3_ROLE|CONTACT3_RELATION|CONTACT3_NAME|REL_ADDR3_LINE1|REL_ADDR3_LINE2|REL_ADDR3_LINE3|REL_ADDR3_LINE4|REL_RES3_TOWN_CODE|REL_RES3_AREA_CODE|REL_REGION3_CODE|REL_COUNTRY3_CODE|REL_RES3_TEL_NO|REL_OFF3_TEL_NO|OCPN_CLASS_CODE|OCPN_CODE|ADDED_BY_ID|ADDED_DATE|MODIFIED_BY_ID|MODIFIED_DATE|STATUS|REMARKS|ADDED_AT_WS_NO|MODIFIED_AT_WS_NO|";


/*SDI|SRIRAJINT|XX|SI2|123|02-JUL-08|N|0000000408|I|408|02-JUL-08|21367823489237|ID|0020199|ID4|5456|34535|456546|FGFDSG@sdkj.com|PanAkeYing M.R.V|First Name|Nongnut Sangtaweep|PanAkeYing M.R.V, Nongnut Sangtaweep|BCD|DSF|SAD|ASD|M|02-JUL-08|Y|1|ASIAN|3|IN|Y|SI|SI|Y|02-JUL-08|HS|100000220001|XCA|MAI|FFF|GFDG|DFG|FGD|KETERE|JH1899|RG006|57100|3217|MAI|DFG|DFGDF|FDG|FDG|KETERE|JH1899|RG011|50480|3217|FD|A000|DFG|GDF|GDFG|DFG|DFG|DFG|DF|FDG|DFG|FDG|DFGDFG|DFG|JH1899|KBHARU|RG005|3306|DFG|DF|DF|GD|DFG|DFG|DFG|DFG|JH1901|KBHARU|RG005|3306|DFG|DFG|DF|DF|DFG|DFG|DFG|DFG|DFG|JH1901|KBHARU|RG005|3306|566777|46|D|1211|IBAEHIS|02-JUL-08|IBAEHIS|02-JUL-08|N|DSFSD|DFLT|DFLT*/

for(var i=0;i<Messegesyntax.length;i++)
{

 curval=(Messegesyntax.charAt(i)).toString();
 curval1=(Messegesyntax.charAt(i)).toString();
some=(Messegesyntax.charAt(i)).toString()+((Messegesyntax.charAt(i+1)).toString())+((Messegesyntax.charAt(i+2)).toString());
  if((Messegesyntax.charAt(i+2)).toString()=="" && (Messegesyntax.charAt(i+1)).toString()=="")
  {
 some=some+"lak,xm"+"lak,xm";
}


if(compilesimples==i)
{
curval=some1;

}

if(some == intSymbols[0] || some == intSymbols[1] || some == intSymbols[2]  || some == intSymbols[3]  || some == intSymbols[4] ||  some == intSymbols[5] || some == intSymbols[6] )
{
compilesimples=(i+2);
some1=some;
counting=3;
spe=2;
}
else if(curval1 == intSymbols[0] || curval1 == intSymbols[1] || curval1 == intSymbols[2]  || curval1 == intSymbols[3]  || curval1 == intSymbols[4] ||  curval1 == intSymbols[5] || curval1 == intSymbols[6])
{
curval=curval1;
spe=0;
counting=1;
}
          
if(curval=="+")
{

curval="  ";
}
/*if(compilesimples%3=0)
{


}*/

//if(curval == intSymbols[0] || curval ==intSymbols[1] || curval == intSymbols[2] || curval == Symbols[3] ||curval == Symbols[4] || curval == Symbols[5] || curval == Symbols[6] ||curval == Symbols[7] || curval == Symbols[8] ||curval == Symbols[9] ||curval == Symbols[10] ||  curval == '*')
 
 if(curval == intSymbols[0] || curval ==intSymbols[1] || curval == intSymbols[2] || curval == intSymbols[3] || curval ==intSymbols[4] || curval == intSymbols[5] || curval == intSymbols[6] || curval ==intSymbols[7] || curval == intSymbols[8] || curval == intSymbols[9] || curval ==intSymbols[10] || curval == intSymbols[11])
 
 {


//|| curval == intSymbols[3]

 if(temp.length>0 )
{

temp=temp.substring(0,(temp.length-spe));
if(temp.indexOf("#%#")!=-1)
{
counting=3;
var somethingdata=temp.substring(0,counting);

}


var somethingdata=temp.substring(0,counting)

switch(test(somethingdata))
 {
case 0:


var value11=temp.substring(counting);

if(value11=="")
{
}
else
{
if(hashVal[hashte]==null)
{
var value1=value11;
}
else
{

var value1=value11+"     =     "+hashVal[hashte];
}
d.add(cou1,0,value1,value1);
hash=cou1;
cou1++;
hashte++;

}
break;
case 1:



var value12=temp.substring((counting));



if(value12=="")
{
}
else
{
if(dolVal[dolte]==null)
{
var value2=value12;
}
else
{
var value2=value12+"     =     "+dolVal[dolte];
}
d.add(cou1,hash,value2,value2);
dola=cou1;
cou1++;
dolte++;
}


break;
case 2:
dola=getData(dola,hash,1);
var value3="";

var value13=temp.substring((counting));


if(value13=="")
{
}
else
{
if(PerVal[perte]==null)
{
var value3=value13;
}
else
{
var value3=value13+"     =     "+PerVal[perte];
}


d.add(cou1,dola,value3,value3);
perce=cou1;
perce=cou1;
cou1++;
perte++;
counting=0;
}
break;
case 3:

perce =getData(perce,hash,1);
perce=getData(perce,dola,2);

var somevalue1="";


var somevalue=temp.substring(counting);

if(somevalue=="")
{
}
else
{

if(boxval[boxte]==null)
{
somevalue1=somevalue;


}
else
{
somevalue1=somevalue+"     =     "+boxval[boxte];
}


d.add(cou1,perce,somevalue1,"");
som=cou1;
boxte++;
cou1++;

}


break;
case 4:

som =getData(som,hash,1);
som=getData(som,dola,2);
//som=getdata(som,perce,3);
var lessval1="";

var lessval=temp.substring(counting);

if(lessval=="")
{
}
else
{
if(Lesstan[lesste]==null)
{
lessval1=lessval;
}
else
{
lessval1=lessval+"     =     "+Lesstan[lesste];
}
d.add(cou1,som,lessval1,valuePip);
pip=cou1;
lesste++;
cou1++;

}

break;
case 5:
pip=getData(pip,hash,1);
pip=getData(pip,dola,2);
pip=getData(pip,perce,3);
pip=getData(pip,som,4);


var valuePip1=temp.substring(1);



if(valuePip1=="")
{
}
else
{
if(PiptVal[pipte]==null)
{
var valuePip=valuePip1;
}
else
{
var valuePip=valuePip1+"     =     "+PiptVal[pipte];

}

d.add(cou1,pip,valuePip,valuePip);

 cap=cou1;
 cou1++;
 pipte++;

 }
break;
case 6:
cap=getData(cap,hash,1);
cap=getData(cap,dola,2);
cap=getData(cap,perce,3);
cap=getData(cap,som,4);
cap=getData(cap,pip,5);
var valueCap1=temp.substring(1);


if(valueCap1=="")
{
}
else
{
if(CapVal[capte]==null)
{
var valueCap=valueCap1;
}
else
{
var valueCap=valueCap1+"     =     "+CapVal[capte];


}
d.add(cou1,cap,valueCap,valueCap);
ll=cou1;
cou1++;
capte++;

}
break;
case 7:
ll=getData(ll,hash,1);
ll=getData(ll,dola,2);
ll=getData(ll,perce,3);
ll=getData(ll,som,4);
ll=getData(ll,pip,5);
ll=getData(ll,cap,6);
var valueCap12=temp.substring(1);
if(valueCap12=="")
{
}
else
{
if(CapVal1[capte1]==null)
{
var valueCap3=valueCap12;
}
else
{
var valueCap3=valueCap12+"     =     "+CapVal1[capte1];


}
d.add(cou1,ll,valueCap3,valueCap);
cou1++;
capte1++;

}
break;

case '*':
break;
}
}


temp=curval;

}
else 
{
	temp=temp+curval;

	
}
  }
 if(temp.length>0 )
{
temp=temp.substring(0,(temp.length-spe));
switch(test(curval))

{
case 0:


var value11=temp.substring(counting);

if(value11=="")
{
}
else
{
if(hashVal[hashte]==null)
{
var value1=value11;
}
else
{

var value1=value11+"     =     "+hashVal[hashte];
}
d.add(cou1,0,value1,value1);
hash=cou1;
cou1++;
hashte++;

}
break;
case 1:



var value12=temp.substring((counting));



if(value12=="")
{
}
else
{
if(dolVal[dolte]==null)
{
var value2=value12;
}
else
{
var value2=value12+"     =     "+dolVal[dolte];
}
}
d.add(cou1,hash,value2,value2);
dola=cou1;
cou1++;
dolte++;

break;
case 2:
dola=getData(dola,hash,1);
var value13=temp.substring((counting));


if(value3=="")
{
}
else
{
if(PerVal[perte]==null)
{
var value3=value13;
}
else
{
var value3=value13+"     =     "+PerVal[perte];
}
d.add(cou1,dola,value3,value3);
perce=cou1;
perce=cou1;
cou1++;
perte++;
counting=0;
}
break;
case 3:

perce =getData(perce,hash,1);
perce=getData(perce,dola,2);

var somevalue1="";


var somevalue=temp.substring(counting+2);
if(somevalue=="")
{
}
else
{
if(boxval[boxte]==null)
{
somevalue1=somevalue;


}
else
{
somevalue1=somevalue+"     =     "+Lesstan[lesste];
}


d.add(cou1,perce,somevalue1,"");
som=cou1;
boxte++;
cou1++;

}


break;
case 4:

som =getData(som,hash,1);
som=getData(som,dola,2);
//som=getdata(som,perce,3);
var lessval1="";
var lessval=temp.substring(1);

if(lessval=="")
{
}
else
{
if(Lesstan[lesste]==null)
{
lessval1=lessval;
}
else
{
lessval1=lessval+"     =     "+Lesstan[lesste];
}
d.add(cou1,som,lessval1,valuePip);
pip=cou1;
lesste++;
cou1++;

}

break;
case 5:
pip=getData(pip,hash,1);
pip=getData(pip,dola,2);
pip=getData(pip,perce,3);
pip=getData(pip,som,4);


var valuePip1=temp.substring(1);



if(valuePip1=="")
{
}
else
{
if(PiptVal[pipte]==null)
{
var valuePip=valuePip1;
}
else
{
var valuePip=valuePip1+"     =     "+PiptVal[pipte];

}

d.add(cou1,pip,valuePip,valuePip);

 cap=cou1;
 cou1++;
 pipte++;

 }
break;
case 6:
cap=getData(cap,hash,1);
cap=getData(cap,dola,2);
cap=getData(cap,perce,3);
cap=getData(cap,som,4);
cap=getData(cap,pip,5);
var valueCap1=temp.substring(1);


if(valueCap1=="")
{
}
else
{
if(CapVal[capte]==null)
{
var valueCap=valueCap1;
}
else
{
var valueCap=valueCap1+"     =     "+CapVal[capte];


}
d.add(cou1,cap,valueCap,valueCap);
ll=cou1;
cou1++;
capte++;

}
break;
case 7:
ll=getData(ll,hash,1);
ll=getData(ll,dola,2);
ll=getData(ll,perce,3);
ll=getData(ll,som,4);
ll=getData(ll,pip,5);
ll=getData(ll,cap,6);
var valueCap12=temp.substring(1);

if(valueCap12=="")
{
}
else
{
if(CapVal1[capte1]==null)
{
var valueCap3=valueCap12;
}
else
{
var valueCap3=valueCap12+"     =     "+CapVal1[capte1];


}
d.add(cou1,ll,valueCap3,valueCap);
cou1++;
capte1++;

}
break;

case '*':
break;
}
}

 
document.write(d);

}













function  getData(val1,val2)
 {
 if(val1 < val2)   val1 =val2; 
   return val1;	
 }
function  test(val1)
{
var align=0;


for(var spk=0;spk<SplitinElements.length;spk++)
{
if(val1==intSymbols[spk])
{

align=(spk);


}

}


return align;
}
function  compare(val1)
 {

var val2;




if(val1==Symbols[0]  || val1==Symbols[1] || val1==Symbols[2] || val1==Symbols[3] || val1==Symbols[4] || val1==Symbols[5] || val1==Symbols[6] || val1==Symbols[7] || val1==Symbols[8] || val1==Symbols[9] || val1==Symbols[10] || val1==Symbols[11] || val1==Symbols[11]  )
{

val2=val1;
}
else
{

for(var intds=0;intds<intSymbols.length;intds++)
{

if(val1==intSymbols[intds])
{

val2=intSymbols[intds];
}

}
}
return val2;	

}
   




 function Trim(str)
{ 
while(str.charAt(0) == (" ") )
  {  str = str.substring(1);
  }
  while(str.charAt(str.length-1) == " " )
  {  str = str.substring(0,str.length-1);

  }
  return str;
}
</script>
<script src='../../eCommon/js/showModalDialog.js' language='JavaScript'></script>


</td>
</tr>
</table>
</form>
</body>
</html>











