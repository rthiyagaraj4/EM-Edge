<!--
Copyright 1999-2015, Computer Sciences Corporation. All rights reserved.
 
Warning: This computer program is protected by copyright law and international treaties.
Unauthorized reproduction or distribution of this program, or any portion of it, 
may result in severe civil and criminal penalties, and will be prosecuted to 
the maximum extent possible under the law.
-->
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="StyleSheet" href="../../eXH/html/dtree.css" type="text/css" />
	<link rel="StyleSheet" href="../../eXH/html/lris_style.css" type="text/css" />
	<script type="text/javascript" src="../../eXH/js/dtree1.js"></script>
	<script language="javascript" src="../../eXH/js/RearrangementLayer1.js" ></script>
<script language="JavaScript"> 
function Add()
{
var inputK=parent.parent.frames[0].document.forms[0].UsrDefStr.value;

var temp='';
var input1="|"+inputK;
var cou=0,cou1=0;
TextArray=new Array();
 TextArray1=new Array();
 PercentArray=new Array();
 for(var i=0;i<input1.length;i++)
  {
   curval= input1.charAt(i);
 if(curval == '%' || curval == '|' ||curval == '^')
 {
 if(temp.length>0)
{
   switch(temp.charAt(0))
    {

	 case '%':
      var value4=temp.substring(1);
      TextArray[cou]=value4;
	   PercentArray[cou1]=cou;
      if(cou==0)
      {
      TextArray1[cou]="%"+value4;
      }
      else if(cou!=0)
      {
       TextArray1[cou]="%"+value4;
      }
	  cou++;
	  cou1++;
	  break;
      case '|':
      var value5=temp.substring(1);
      TextArray[cou]=value5;
      if(cou==0)
      {
      TextArray1[cou]=value5;
      }
      else if(cou!=0)
      {
       TextArray1[cou]="|"+value5;
      }
	  cou++;
	  break;
	  case '^':
	  var value6=temp.substring(1);
	  TextArray[cou]=value6;
	  if(cou==0)
	  {
	  TextArray1[cou]=value6;
	  }
	  else if(cou!=0)
	  {
	  TextArray1[cou]="^"+value6;
	  }
	  cou++;
	  break;


	  }
	  }
      temp=curval;
      }
      else 
      {
	  temp=temp+curval;
      }
    }
            if(temp.length>0)
         {
			switch(temp.charAt(0))
			{

			 case '%':
      var value4=temp.substring(1);
      TextArray[cou]=value4;
 	   PercentArray[cou1]=cou;
      if(cou==0)
      {
      TextArray1[cou]="%"+value4;
      }
      else if(cou!=0)
      {
       TextArray1[cou]="%"+value4;
      }
	  cou++;
	  cou1++;
	  break;
			case '|':
					var value5=temp.substring(1);
					TextArray[cou]=value5;
			if(cou==0)
			{
			TextArray1[cou]=value5;
			}
			else if(cou!=0)
			{
			TextArray1[cou]="|"+value5;
			}
					
			break;
			case '^':
					var value6=temp.substring(1);
						TextArray[cou]=value6;
			if(cou==0)
			{
			TextArray1[cou]=value6;
			}
			else if(cou!=0)
			{
			TextArray1[cou]="^"+value6;
			}
				break;
			}
            cou=cou+1;
         }



for(var j=3;j<(TextVal.length);j++)
{

var selectedItem;
var h=0,g=0;
if(d.getSelected()==j)
{
if(d.getSelected()>parseInt(PercentArray[0])+3)
{
parent.parent.frames[1].document.forms[0].UsrDefStr.value="";
for(var k=1;k<TextArray1.length;k++)
{
selectedItem=TextArray1[(d.getSelected()-3)];
if(j==(k+3))
{


}
else if(j!=(k+3))
{
TextArray1[h]=TextArray1[k];
if(TextArray1[k].indexOf("%")!=-1)
{
var percentItem=TextArray1[k];
parent.parent.frames[0].document.forms[0].UsrDefStr.value+=selectedItem;
h++;
TextArray1[h]=percentItem;
}
parent.parent.frames[0].document.forms[0].UsrDefStr.value+=TextArray1[h];
h++;
}
}
}
else
{

alert("cannot move");
}


parent.frames[2].location.href="dummyderivation.html";
}
}



}



function Add1()
{


var inputK=parent.parent.frames[0].document.forms[0].UsrDefStr.value;

var temp='';
var input1="|"+inputK;
var cou=0,cou1=0;
TextArray=new Array();
PercentArray=new Array();
 TextArray1=new Array();
 for(var i=0;i<input1.length;i++)
  {
   curval= input1.charAt(i);
 if(curval == '%' || curval == '|' ||curval == '^')
 {
 if(temp.length>0)
{
   switch(temp.charAt(0))
    {

	 case '%':
      var value4=temp.substring(1);
      TextArray[cou]=value4;
	  PercentArray[cou1]=cou;
      if(cou==0)
      {
      TextArray1[cou]="%"+value4;
      }
      else if(cou!=0)
      {
       TextArray1[cou]="%"+value4;
      }
	  cou++;
	  cou1++;
	  break;
      case '|':
      var value5=temp.substring(1);
      TextArray[cou]=value5;
      if(cou==0)
      {
      TextArray1[cou]=value5;
      }
      else if(cou!=0)
      {
       TextArray1[cou]="|"+value5;
      }
	  cou++;
	  break;
	  case '^':
	  var value6=temp.substring(1);
	  TextArray[cou]=value6;
	  if(cou==0)
	  {
	  TextArray1[cou]=value6;
	  }
	  else if(cou!=0)
	  {
	  TextArray1[cou]="^"+value6;
	  }
	  cou++;
	  break;


	  }
	  }
      temp=curval;
      }
      else 
      {
	  temp=temp+curval;
      }
    }
            if(temp.length>0)
         {
			switch(temp.charAt(0))
			{

			 case '%':
      var value4=temp.substring(1);
      TextArray[cou]=value4;
	  PercentArray[cou1]=cou;
      if(cou==0)
      {
      TextArray1[cou]="%"+value4;
      }
      else if(cou!=0)
      {
       TextArray1[cou]="%"+value4;
      }
	  cou++;
	  cou1++;
	  break;
			case '|':
					var value5=temp.substring(1);
					TextArray[cou]=value5;
			if(cou==0)
			{
			TextArray1[cou]=value5;
			}
			else if(cou!=0)
			{
			TextArray1[cou]="|"+value5;
			}
					
			break;
			case '^':
					var value6=temp.substring(1);
						TextArray[cou]=value6;
			if(cou==0)
			{
			TextArray1[cou]=value6;
			}
			else if(cou!=0)
			{
			TextArray1[cou]="^"+value6;
			}
				break;
			}
            cou=cou+1;
         }



for(var j=3;j<(TextVal.length);j++)
{

var selectedItem;
var h=0,g=0;
if(d.getSelected()==j)
{
if(d.getSelected()<parseInt(PercentArray[0])+3)
{
parent.parent.frames[1].document.forms[0].UsrDefStr.value="";



selectedItem=TextArray1[(d.getSelected()-3)];
for(var k=1;k<TextArray1.length;k++)
{

if(j==(k+3))
{

}

else if(j!=(k+3))
{
parent.parent.frames[0].document.forms[0].UsrDefStr.value+=TextArray1[k];
}



}
parent.parent.frames[0].document.forms[0].UsrDefStr.value+=selectedItem;



}
else
{
alert("can not move");
}

parent.frames[2].location.href="dummyderivation.html";
}
}


/*for(var j=3;j<(TextVal.length);j++)
{

var selectedItem;
var h=0,g=0;
if(d.getSelected()==j)
{
for(var k=1;k<TextArray1.length;k++)
{
selectedItem=TextArray1[(d.getSelected()-3)];
if(j==(k+3))
{


}
else if(j!=(k+3))
{
TextArray1[h]=TextArray1[k];
if(TextArray1[k].indexOf("%")!=-1)
{
var percentItem=TextArray1[k];
parent.parent.frames[0].document.forms[0].UsrDefStr.value+=selectedItem;
h++;
TextArray1[h]=percentItem;
}
parent.parent.frames[0].document.forms[0].UsrDefStr.value+=TextArray1[h];
h++;
}
}
parent.frames[1].location.href="dummy.html";
}
}*/



}

function  getData(val1,val2)
 {
 if(val1 < val2)   val1 =val2; 
   return val1;	
 }

</script>
	</head>
<body bgcolor='#F7F3F7' topmargin=0 leftmargin=0 valign=top>
<form>

<table border=0 cellpadding=5 cellspacing=0  class="th_1" width="100%" align=center>
<tr>
<td>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<table  cellspacing=0 cellpadding=5 border=0 width='100%' height='80%' align='center'>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<tr>
<td>
<div class="tree">
	<script language="JavaScript">
var f;
d = new dTree('d');
d.add(0,-1,'');
//parent.parent.frames[0].document.forms[0].change.value=0;
var treeval =new Array();
var hashArr =new Array();
var dolArr =new Array();
var perArr =new Array();
var pipArr =new Array();
var capArr =new Array();
var TextVal=new Array();
levelArray=new Array();
var hash=0;
var hashCou;
var dolCou;
var perCou;
var pipCou;
var capCou;
var l_pos;
var temp='';
var k2=parent.parent.frames[0].document.forms[0].UsrDefStr.value;

var perce=0;
var dola=0;
var pip=0;
var cou=1;
var cou2=0;
var val=1; 
var cou1;
var hash,dola,perce,pip;
var TextVal=new Array();
for(var i=0;i<k2.length;i++)
 {
  curval= k2.charAt(i);
  if(curval=='+')
  {
curval='';
  }
 if(curval == '#' ||curval == '$' ||curval == '%' ||curval == '|' ||curval == '^')
 {
 if(temp.length>0)
{
switch(temp.charAt(0))
{
case '#':
var value1=temp.substring(1);
d.add(cou,0,value1,value1);
TextVal[cou]=value1;
levelArray[val]=0;
hash=cou;
cou++;
val++;
break;
case '$':
var value2=temp.substring(1);
TextVal[cou]=value2;
d.add(cou,hash,value2,value2);
levelArray[val]=hash;
dola=cou;
cou++;
val++;
break;
case '%':
dola=getData(dola,hash,1);
var value3=temp.substring(1);
if(value3=="")
{
}
else
{
TextVal[cou]=value3;
d.add(cou,dola,value3,value3);
perce=cou;
levelArray[val]=dola;

val++;
cou++;
}
break;
case '|':
perce =getData(perce,hash,1);
perce=getData(perce,dola,2);
var value4=temp.substring(1);
if(value4=="")
{
}
else
{
d.add(cou,perce,value4,value4);
levelArray[val]=perce;
val++;
TextVal[cou]=value4;
 pip=cou;
 cou++;
 }
break;
case '^':
pip=getData(pip,hash,1);
pip=getData(pip,dola,2);
pip=getData(pip,perce,3);
var value5=temp.substring(1);
if(value5=="")
{
}
else
{
TextVal[cou]=value5;
d.add(cou,pip,value5,value5);
levelArray[val]=pip;
val++;
cou++;
}
break;
}
}
temp=curval;
}
else 
{
	temp=temp+curval;
}
  }
 if(temp.length>0)
{
switch(temp.charAt(0))
{
case '#':
var value1=temp.substring(1);
TextVal[cou]=value1;
d.add(cou,0,value1,value1);
levelArray[val]=0;
val++;
hash=cou;
break;
case '$':
var value2=temp.substring(1);
TextVal[cou]=value2;
d.add(cou,hash,value2,value2);
levelArray[val]=hash;
val++;
dola=cou;
break;
case '%':
		dola=getData(dola,hash,1);
		var value3=temp.substring(1);
		if(value3=="")
{
}
else
{
		TextVal[cou]=value3;
d.add(cou,dola,value3,value3);
levelArray[val]=dola;
 val++;
 }
break;
case '|':
		perce =getData(perce,hash,1);
		var value4=temp.substring(1);
if(value4=="")
{
}
else
{
		perce=getData(perce,dola,2);
		TextVal[cou]=value4;
		d.add(cou,perce,value4,value4);
		levelArray[val]=perce;
        val++;
		pip=cou;
		}
break;
case '^':
		pip=getData(pip,hash,1);
		var value5=temp.substring(1);
		if(value5=="")
{
}
else
{
		pip=getData(pip,dola,2);
		pip=getData(pip,perce,3);
		TextVal[cou]=value5;
		levelArray[val]=pip;
        val++;
        d.add(cou,pip,value5,value5);
		}
break;
}
cou=cou+1;
}
document.write(d);
</script>
<script src='../../eCommon/js/showModalDialog.js' language='JavaScript'></script>
</div>
</td>
</tr>
</table>
</td>
</tr>
</table>
</form>
</body>
</html>

